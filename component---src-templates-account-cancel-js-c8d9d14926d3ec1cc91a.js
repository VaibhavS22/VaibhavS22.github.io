(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"4vyD":function(e,t,n){"use strict";n.d(t,"n",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"q",(function(){return m})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"m",(function(){return x})),n.d(t,"j",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"p",(function(){return j})),n.d(t,"o",(function(){return O}));var i=n("7Qib"),a=n("C6ep");function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e){return"/account/orders/"+(null==e?void 0:e.orderId)+"/return"}function c(e){return"/account/orders/"+(null==e?void 0:e.orderId)+"/cancel"}function d(e){return e.quantity-e.returnedQuantity}function u(e,t){return e.filter((function(e){return e.shopifyProduct.handle===t.productHandle}))[0]}var m=function(e){return"REFUND"===e?"Refund to card":"REFUND_TO_STORE_CREDIT"===e?"Refund to store credit":"EXCHANGE"===e?"Exchange with different size or color":"REPLACEMENT"===e?"Exchange with exact same item":e};function s(e){return 0===e?"Choose items to return/exchange":1===e?"How can we make it right?":"Return Summary"}function p(e,t){var n=(((null==e?void 0:e.returns)||[]).filter((function(e){return(e.returnLineItems||[]).findIndex((function(e){return e.lineItemId===t}))>-1}))||[]).sort((function(e,t){return new Date(null==t?void 0:t.dateCreated)-new Date(null==e?void 0:e.dateCreated)}));return null==n?void 0:n[0]}function f(e,t){for(var n,i=o((null==e?void 0:e.returns)||[]);!(n=i()).done;){var a=n.value.returnLineItems,r=(a||[]).findIndex((function(e){return e.lineItemId===t}));if(r>-1)return a[r]}return null}function b(e,t){var n,i,a=(null!==(n=null===(i=(e||[]).find((function(e){var n=e.orderId;return t===n})))||void 0===i?void 0:i.returns)&&void 0!==n?n:[]).sort((function(e,t){return new Date(null==t?void 0:t.dateCreated)-new Date(null==e?void 0:e.dateCreated)}));return null==a?void 0:a[0]}function h(e,t){return(e||[]).find((function(e){return(null==e?void 0:e.lineItemId)===(null==t?void 0:t.id)}))}function g(e){return e.map((function(e){var t;return null==e||null===(t=e.response)||void 0===t?void 0:t.url}))}function x(e){var t,n=[];return(null!==(t=null==e?void 0:e.shipments)&&void 0!==t?t:[]).forEach((function(t){var i;(null!==(i=null==t?void 0:t.lineItems)&&void 0!==i?i:[]).forEach((function(t){var i=p(e,t.id),a=f(e,t.id);("PROCESSED"===(null==a?void 0:a.status)||(null==i?void 0:i.labelUrl)&&"REQUEST_CREATED"===(null==i?void 0:i.returnStatus))&&n.push(Object.assign({},t,{status:null==a?void 0:a.status,labelUrl:null==i?void 0:i.labelUrl,trackingNumber:null==i?void 0:i.trackingNumber,returnId:null==i?void 0:i.returnId,trackingUrl:null==i?void 0:i.trackingUrl}))}))})),n}function v(e,t){var n;void 0===t&&(t=[]);var i=[];return(null!==(n=null==e?void 0:e.shipments)&&void 0!==n?n:[]).forEach((function(e){var n,a=(null!==(n=null==e?void 0:e.lineItems)&&void 0!==n?n:[]).filter((function(e){return-1===t.findIndex((function(t){return t.id===e.id}))}));a.length>0&&i.push(Object.assign({},e,{lineItems:a}))})),i}var y=function(e){return(null==e?void 0:e.subReason)?" | "+(null==e?void 0:e.subReason):""},w=function(e){return Object(i.g)(e.toLowerCase().split("_").join(" "))};function j(e,t,n){Object(a.d)("Label API request failed with following error: "+e,{user:t,orderId:n},{API:"Return Label",type:"API_FAILURE"})}function O(e){return["REFUND_TO_STORE_CREDIT","REFUND"].includes(e)}},"E/G4":function(e,t,n){"use strict";var i=n("q1tI"),a=n.n(i),o=n("vOnD"),r=n("wEEd"),l=n("RdMJ"),c=n("ovEV"),d=n("EagP"),u=o.d.div.withConfig({displayName:"Overlay",componentId:"wwt7qr-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);opacity:",";z-index:",";"],(function(e){return e.opacity}),(function(e){return e.opacity?2e3:-2e3})),m=n("vzeT"),s=n.n(m),p=Object(o.d)(r.a.aside).withConfig({displayName:"Drawer__StyledDrawer",componentId:"sc-1hacllf-0"})(["z-index:2001;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;padding:32px 46px;background:",";overflow-y:scroll;-ms-overflow-style:none;@media (min-width:","px){left:unset;width:",";padding:"," ",";box-shadow:",";}"],(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(392),Object(c.b)(33),Object(c.b)(51),(function(e){return e.isDrawerOpen?"#2B2D2F 0px 0px 5px 0px":"none"})),f=Object(o.d)(s.a).withConfig({displayName:"Drawer__StyledCloseIcon",componentId:"sc-1hacllf-1"})(["path{fill:",";}"],(function(e){return e.theme.colors.primary})),b=o.d.button.withConfig({displayName:"Drawer__Close",componentId:"sc-1hacllf-2"})(["position:absolute;z-index:1;top:20px;right:20px;width:11px;cursor:pointer;@media (min-width:","px){display:",";top:",";right:",";width:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),(function(e){return e.hide?"none":"block"}),Object(c.b)(30),Object(c.b)(30),Object(c.b)(11));t.a=function(e){var t=e.open,n=e.onClose,o=e.children,c=Object(i.useState)(!1),m=c[0],s=c[1];Object(d.a)(t),Object(i.useEffect)((function(){setTimeout((function(){s(t)}),200)}),[t]);var h=Object(r.b)({transform:m?"translate3d(0, 0, 0)":" translate3d(100%, 0, 0)"});function g(){s(!1),setTimeout((function(){n()}),200)}var x=Object(l.a)((function(){return t&&g()}))[0];return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(u,{opacity:!0}),a.a.createElement(p,{ref:x,isDrawerOpen:t,style:h,className:"side__modal__container"},a.a.createElement(b,{className:"modal__close_button",type:"button","aria-label":"close",onClick:g},a.a.createElement(f,null)),o))}},NqoN:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var i=n("vOnD"),a=n("9eSz"),o=n.n(a),r=n("5Wrh"),l=n("ovEV"),c=Object(i.d)(r.a).withConfig({displayName:"commons__StyledButton",componentId:"sc-1navyub-0"})(["text-transform:uppercase;font-size:9px;padding:10px 40px;width:100%;color:",";background:",";font-family:",";"],(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.fonts.heading})),d=Object(i.d)(c).withConfig({displayName:"commons__StyledAdButton",componentId:"sc-1navyub-1"})(["margin-top:5px;width:89px;padding:10px 0;font-family:",";@media (min-width:","px){font-size:",";width:",";}"],(function(e){return e.theme.fonts.primary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(l.b)(11),Object(l.b)(137)),u=Object(i.d)(o.a).withConfig({displayName:"commons__ImageMobile",componentId:"sc-1navyub-2"})(["height:100%;"]),m=i.d.div.withConfig({displayName:"commons__ImageWrapper",componentId:"sc-1navyub-3"})(["position:relative;height:",";@media (min-width:","px){height:",";}"],Object(l.e)(183),(function(e){return e.theme.breakpoints.desktopSmall}),Object(l.b)(307))},bif0:function(e,t,n){"use strict";n.r(t),n.d(t,"BtnWrap",(function(){return M})),n.d(t,"CancelOrderQuery",(function(){return Z}));var i=n("KQm4"),a=n("q1tI"),o=n.n(a),r=n("vOnD"),l=n("Wbzz"),c=n("YwZP"),d=n("ovEV"),u=n("ikZk"),m=n("5Wrh"),s=n("VTVh"),p=n("E/G4"),f=n("7Qib"),b=Object(r.d)(u.a).withConfig({displayName:"SideDrawer__StyledLineItem",componentId:"sc-1lg5j1e-0"})(["margin:0;.line_item_thumbnail__content{flex-direction:column;}.line_item_thumbnail__detail{margin:3px 0;}"]),h=r.d.form.withConfig({displayName:"SideDrawer__Form",componentId:"sc-1lg5j1e-1"})(["@media (min-width:","px){padding-top:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(26.5)),g=r.d.div.withConfig({displayName:"SideDrawer__Text",componentId:"sc-1lg5j1e-2"})(["font-size:12px;margin:15px 0 10px;@media (min-width:","px){font-size:",";margin:0 0 ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(12),Object(d.b)(10)),x=r.d.div.withConfig({displayName:"SideDrawer__Footer",componentId:"sc-1lg5j1e-3"})(["margin-top:30px;@media (min-width:","px){margin-top:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(20)),v=r.d.div.withConfig({displayName:"SideDrawer__AlertContainer",componentId:"sc-1lg5j1e-4"})(["margin-bottom:16px;@media (min-width:","px){margin-bottom:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(16)),y=r.d.div.withConfig({displayName:"SideDrawer__ButtonContainer",componentId:"sc-1lg5j1e-5"})(["display:flex;flex-direction:column-reverse;@media (min-width:","px){flex-direction:row;}"],(function(e){return e.theme.breakpoints.desktopSmall})),w=Object(r.d)(m.a).withConfig({displayName:"SideDrawer__StyledButton",componentId:"sc-1lg5j1e-6"})(["display:block;width:100%;margin:0 0 10px;padding:10px;span{font-size:12px;}@media (min-width:","px){margin:0;span{font-size:",";text-transform:uppercase;}}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(12)),j=Object(r.d)(s.o).withConfig({displayName:"SideDrawer__QuantitySelect",componentId:"sc-1lg5j1e-7"})(["flex-shrink:0;flex:1;font-size:16px;margin-right:0px;margin-top:10px;width:59px;select{text-transform:uppercase;font-size:12px;padding:6px 10px;}@media (min-width:","px){width:",";margin-top:",";select{font-size:",";padding:"," ",";}}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(65),Object(d.b)(10),Object(d.b)(12),Object(d.b)(6),Object(d.b)(12)),O=function(e){var t,n,r=e.open,l=e.closeModal,c=e.lineItem,d=e.saveCancelledLineItem,u=e.onSubmitSuccess,m=e.formData,O=e.validationError,I=e.setValidationError,_=e.handleChange,C=e.cancelLineItem,k=Object(a.useState)(null),E=k[0],S=k[1],N=Object(a.useState)(Math.min(c.fulfillableQuantity,1)),z=N[0],A=N[1];Object(a.useEffect)((function(){c&&(A(Math.min(c.fulfillableQuantity,1)),E?E!=c.id&&(S(c.id),T({}),I("")):S(c.id))}),[c]);var D=Object(a.useState)(null!==(t=null==C?void 0:C.cancelLineItemReview)&&void 0!==t?t:{}),L=D[0],T=D[1];return o.a.createElement(p.a,{open:r,onClose:l},o.a.createElement(b,{secondaryLayout:!0,lineItem:c}),o.a.createElement(h,null,c.fulfillableQuantity>1&&o.a.createElement(s.d,null,o.a.createElement(g,null,"Quantity"),o.a.createElement(j,{options:Object(i.a)(new Array(c.fulfillableQuantity)).map((function(e,t){return t+1})),onChange:function(e){var t=c.fulfillableQuantity,n=e.target.value;A(n<=0?Math.min(t,1):Number(n>t?t:n))}})),o.a.createElement(s.d,null,o.a.createElement(g,null,"Reason"),o.a.createElement(s.f,{label:"Select Reason",name:"reasonCode",required:!0,options:f.b,onChange:function(e){T(Object.assign({},L,{subReason:null})),_(e)},defaultOption:null===(n=f.b.find((function(e){return e.value===(null==m?void 0:m.reasonCode)})))||void 0===n?void 0:n.name})),"OTHER"===(null==m?void 0:m.reasonCode)&&o.a.createElement(s.d,null,o.a.createElement(g,null,"Additional Comments"),o.a.createElement(s.p,{name:"additionalComments",required:!0,placeholder:"",onChange:function(e){var t;I("");var n=e.target,i=n.name,a=n.value;T(Object.assign({},L,((t={})[i]=a,t)))},value:null==L?void 0:L.additionalComments,height:100}))),o.a.createElement(x,null,O&&o.a.createElement(v,null,o.a.createElement(s.a,{message:O})),o.a.createElement(y,null,o.a.createElement(w,{black:!0,type:"button",onClick:function(){(m.reasonCode?(I(""),1):(I("Please select a reason before proceeding"),0))&&(d(Object.assign({},m,{lineItemId:c.id,cancelLineItemReview:Object.assign({},L,{reason:m.reasonCode,comments:null==m?void 0:m.additionalComments,cancelLineItemId:c.id}),lineItem:c}),z),u(),l())}},"Submit"))))},I=n("1qly"),_=n("JUEH"),C=n("cEY2"),k=n("eFVT"),E=n("rAq0"),S=n.n(E),N=Object(r.d)(m.a).withConfig({displayName:"CancelSuccess__StyledButton",componentId:"sc-17unb4h-0"})(["font-size:12px;padding:0;margin-bottom:0px;height:48px;width:100%;display:flex;align-items:center;justify-content:center;color:",";background:",";@media (min-width:","px){width:auto;text-transform:uppercase;padding:"," ",";}"],(function(e){return e.contrast?e.theme.colors.secondary:e.theme.colors.primary}),(function(e){return e.contrast?e.theme.colors.primary:e.theme.colors.secondary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(3),Object(d.b)(29)),z=r.d.div.withConfig({displayName:"CancelSuccess__Wrapper",componentId:"sc-17unb4h-1"})(["background-color:#f9f9f9;text-align:center;padding:25px 11px 42px;display:flex;flex-direction:column;align-items:center;@media (min-width:","px){padding:"," 0 ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(47),Object(d.b)(32)),A=r.d.div.withConfig({displayName:"CancelSuccess__Heading",componentId:"sc-17unb4h-2"})(["font-family:",";font-weight:500;font-size:24px;margin-top:10px;margin-bottom:10px;@media (min-width:","px){width:100%;font-size:",";margin-top:",";margin-bottom:",";}"],(function(e){return e.theme.fonts.heading}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(36),Object(d.b)(17),Object(d.b)(10)),D=r.d.div.withConfig({displayName:"CancelSuccess__RefundText",componentId:"sc-17unb4h-3"})(["margin-bottom:26px;font-size:12px;line-height:20px;text-align:center;@media (min-width:","px){line-height:",";font-size:",";margin-bottom:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(20),Object(d.b)(12),Object(d.b)(28)),L=r.d.div.withConfig({displayName:"CancelSuccess__Container",componentId:"sc-17unb4h-4"})(["padding:0 14px;@media (min-width:","px){padding:0 ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(240)),T=r.d.div.withConfig({displayName:"CancelSuccess__StyledCancelledAdsSection",componentId:"sc-17unb4h-5"})(["display:none;@media (min-width:","px){display:block;}"],(function(e){return e.theme.breakpoints.desktopSmall})),R=r.d.div.withConfig({displayName:"CancelSuccess__StyledRecom",componentId:"sc-17unb4h-6"})(["@media (min-width:","px){padding:0 ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(240)),P=Object(r.d)(C.a).withConfig({displayName:"CancelSuccess__StyledNewBestSeller",componentId:"sc-17unb4h-7"})(["> ul{padding:0;margin:0;> li:first-child{margin-left:25px;}}@media (min-width:","px){margin-bottom:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(25)),q=function(e){var t=e.recommendedProducts,n=e.sections;return o.a.createElement(o.a.Fragment,null,o.a.createElement(L,null,o.a.createElement(z,null,o.a.createElement("div",null,o.a.createElement(S.a,null)),o.a.createElement(A,null,"This order has been canceled"),o.a.createElement(D,null,"Your order will be refunded in 2 - 3 business days."),o.a.createElement(N,{contrast:!0,onClick:function(){Object(c.navigate)("/")}},"Continue Shopping"))),o.a.createElement(R,null,t&&o.a.createElement(P,{json:t.text.json,textColor:t.textColor,image:t.image,products:t.products,tracker:"cancel_order",hideImageOnMobile:!0}),o.a.createElement(T,null,n&&o.a.createElement(k.a,{sections:n}))))},F=n("4vyD"),Q=n("C6ep"),U=n("uuwJ"),W=n("KTwt"),M=Object(r.d)(m.a).withConfig({displayName:"Cancel__BtnWrap",componentId:"sc-1t9nokc-0"})(["font-size:12px;padding:0;height:48px;width:100%;display:flex;align-items:center;justify-content:center;color:",";background:",";@media (min-width:","px){width:auto;text-transform:uppercase;padding:0 ",";}"],(function(e){return e.contrast?e.theme.colors.secondary:e.theme.colors.primary}),(function(e){return e.contrast?e.theme.colors.primary:e.theme.colors.secondary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(29)),B=r.d.div.withConfig({displayName:"Cancel__ErrorMsg",componentId:"sc-1t9nokc-1"})(["font-weight:500;color:#db3333;font-size:12px;line-height:20px;margin-top:5px;@media (min-width:","px){width:",";margin-top:",";font-size:",";line-height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(569),Object(d.b)(9),Object(d.b)(12),Object(d.b)(20)),V=r.d.div.withConfig({displayName:"Cancel__CancelInfo",componentId:"sc-1t9nokc-2"})(["font-weight:400;color:#000;font-size:10px;line-height:13px;margin-top:12px;@media (min-width:","px){width:",";margin-top:0;font-size:",";line-height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(569),Object(d.b)(12),Object(d.b)(20)),H=r.d.div.withConfig({displayName:"Cancel__ButtonContainer",componentId:"sc-1t9nokc-3"})(["display:flex;align-items:center;flex-direction:column;width:100%;@media (min-width:","px){}"],(function(e){return e.theme.breakpoints.desktopSmall})),J=r.d.div.withConfig({displayName:"Cancel__Container",componentId:"sc-1t9nokc-4"})(["padding:21px 21px;@media (min-width:","px){padding:"," ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(41),Object(d.b)(240)),G=r.d.div.withConfig({displayName:"Cancel__LinkWrapper",componentId:"sc-1t9nokc-5"})(["display:flex;text-transform:uppercase;font-size:12px;a{text-decoration:underline;margin:0 5px;&:first-child{margin-left:0;}}p{margin-left:5px;}@media (min-width:","px){font-size:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(12)),K=r.d.h1.withConfig({displayName:"Cancel__Heading",componentId:"sc-1t9nokc-6"})(["font-size:24px;line-height:30px;margin:19px 0 5px;@media (min-width:","px){font-size:",";margin:"," 0 ",";line-height:normal;}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(36),Object(d.b)(24),Object(d.b)(9)),Y=r.d.p.withConfig({displayName:"Cancel__Description",componentId:"sc-1t9nokc-7"})(["margin-bottom:25px;@media (min-width:","px){font-size:",";margin-bottom:",";span{text-transform:uppercase;}}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(d.b)(12),Object(d.b)(63)),Z=(t.default=function(e){var t,n=e.location,r=e.data,d=e.orderId,u=Object(I.a)(),m=u.fetchData,p=u.response,b=Object(I.a)(),h=b.fetchData,g=b.error,x=b.response,v=b.loading,y=r.contentfulAccountPage,w=y.recommendedProducts,j=void 0===w?{}:w,C=y.sections,k=void 0===C?{}:C,E=n.state&&n.state.order||(null!=p?p:[]).find((function(e){return e.orderId===Number(d)})),S=Object(f.A)().email;Object(a.useEffect)((function(){!E&&S&&m("https://ordersapi.onequince.com/service/order?emailId="+S+"&limit=50")}),[]);var N=Object(a.useState)([]),z=N[0],A=N[1],D=Object(a.useState)(null),L=D[0],T=D[1],R=Object(a.useState)(null),P=R[0],Z=R[1],$=Object(a.useState)([]),X=$[0],ee=$[1],te=Object(a.useState)("We’re sorry, it looks like your order has already processed for shipment, so we’re not able to change your order at this time."),ne=te[0],ie=te[1],ae=Object(a.useState)(!1),oe=ae[0],re=ae[1];Object(a.useEffect)((function(){if(E){var e=E.allLineItems,t=Object(i.a)(e.filter((function(e){return e.fulfillableQuantity&&e.fulfillableQuantity>0})));A(t),re(0==t.length)}}),[E]);var le=Object(a.useState)(""),ce=le[0],de=le[1],ue=Object(a.useState)([]),me=ue[0],se=ue[1],pe=Object(a.useState)({}),fe=pe[0],be=pe[1],he=Object(a.useState)(null),ge=he[0],xe=he[1],ve=Object(a.useState)(!1),ye=ve[0],we=ve[1],je=Object(a.useState)(""),Oe=je[0],Ie=je[1];Object(a.useEffect)((function(){x&&(500===x.status?(ie(x.message||x.error),re(!0),Object(Q.d)("Cancel Order API request failed with following error: "+x.message,{orderId:d},{API:"Cancel Order",type:"API_FAILURE"})):400===x.status?(ie(x.message||x.error),Object(Q.d)("Cancel Order API request failed with following error: "+x.message,{orderId:d},{API:"Cancel Order",type:"API_FAILURE"}),re(!0)):(we(!0),U.a.track(W.a.ORDER_CANCEL,{entityId:d,action:"cancel_order",category:"cancel",context:{line_items:me,work_flow:"shipment_level_cancellation"}})))}),[g,x]);var _e=Object(f.A)(),Ce=function(){if(!v){var e="https://ordersapi.onequince.com/service/orders/"+d+"/cancel",t=me.map((function(e){return{id:e.lineItemId,quantity:e.cancelledQuantity,reason:e.reasonCode}}));try{var n={cancel_order:!1,items:t},i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),redirect:"follow"};h(e,i)}catch(a){re(!0),Object(Q.d)("Cancel Order API request failed with following error: "+a,{user:_e,orderId:d},{API:"Cancel Order",type:"API_FAILURE"})}}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(J,null,o.a.createElement(G,null,o.a.createElement(l.Link,{to:"/account/my-profile"},"Account"),"/",o.a.createElement(l.Link,{to:"/account/my-orders-returns"},"Orders"),"/",o.a.createElement("p",null,"Cancel")),!ye&&o.a.createElement(o.a.Fragment,null,o.a.createElement(K,null,"Choose items to Cancel"),oe?o.a.createElement(o.a.Fragment,null,o.a.createElement(B,null,ne),o.a.createElement(V,null,"Not to worry! We offer 365 days free returns.")):o.a.createElement(o.a.Fragment,null,o.a.createElement(Y,null,"Showing product(s) from your"," ",o.a.createElement("span",null,"order #",null==E?void 0:E.orderNumber)),o.a.createElement(_.a,{lineItems:z,activeLineItemsChecked:X,handleCheckboxClick:function(e){if(X.includes(e)){var t,n=null===(t=z[e])||void 0===t?void 0:t.id,a=Object(i.a)(X),o=Object(i.a)(me),r=o.findIndex((function(e){return e.lineItemId===n})),l=a.indexOf(e);a.splice(l,1),o.splice(r,1),ee(a),se(o)}else T(z[e]),Z(e),xe(!0),de("")},returnLineItems:me,setActiveLineItem:T,setActiveLineItemIndex:Z,setModalOpen:xe})),o.a.createElement(H,null,o.a.createElement(M,{contrast:!0,onClick:function(){oe&&Object(c.navigate)("/account/my-orders-returns"),0!==me.length?(Ce(),de("")):de("Please select at least one item to continue")},loading:v},oe?"Return To Account":"Cancel selected Items in this order"),ce&&o.a.createElement(s.a,{message:ce})))),ye&&o.a.createElement(q,{recommendedProducts:j,sections:k}),L&&ge&&o.a.createElement(O,{open:ge,closeModal:function(){return xe(!1)},lineItem:L,contentfulProduct:{},saveCancelledLineItem:function(e,t){var n,a=me.findIndex((function(t){return t.lineItemId===e.lineItemId})),o=me.filter((function(t){return t.lineItemId!==e.lineItemId})),r=Object.assign({},e,{cancelledQuantity:t});n=-1===a?o.concat(r):[].concat(Object(i.a)(o.slice(0,a)),[r],Object(i.a)(o.slice(a))),se(n)},formData:null!==(t=null==fe?void 0:fe[null==L?void 0:L.id])&&void 0!==t?t:{},validationError:Oe,setValidationError:Ie,handleChange:function(e,t){var n,i,a;Ie("");var o=e.target,r=o.name,l="consent"===o.name?o.checked:o.value,c=t||(null==L?void 0:L.id);be(Object.assign({},fe,((a={})[c]=Object.assign({},null!==(n=null==fe?void 0:fe[c])&&void 0!==n?n:{},((i={})[r]=l,i)),a)))},onSubmitSuccess:function(){var e=Object(i.a)(X);e.push(P),ee(Object(i.a)(new Set(e)))},cancelLineItem:Object(F.l)(me,L)}))},"2305200535")},eFVT:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("R8uD"),a=n("7Qib"),o=n("q1tI"),r=n.n(o),l=n("vOnD"),c=n("ovEV"),d=n("NqoN"),u=l.d.div.withConfig({displayName:"AdsSection__StyledAdsSection",componentId:"c3rx1s-0"})(["border-top:0.5px solid ",";padding-top:34px;@media (min-width:","px){display:flex;}"],(function(e){return e.theme.colors.silver}),(function(e){return e.theme.breakpoints.desktopSmall})),m=Object(l.d)(d.c).withConfig({displayName:"AdsSection__StyledAdSectionButton",componentId:"c3rx1s-1"})(["bottom:13px;@media (min-width:","px){width:100%;font-size:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(13)),s=l.d.div.withConfig({displayName:"AdsSection__SectionImageContent",componentId:"c3rx1s-2"})(["position:absolute;top:0;left:15px;height:100%;display:flex;flex-direction:column;justify-content:space-between;max-width:",";p{position:relative;font-size:24px;font-weight:500;top:13px;text-transform:uppercase;}@media (min-width:","px){max-width:",";p{font-size:",";}}"],Object(c.e)(160),(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(160),Object(c.b)(27)),p=Object(l.d)(d.b).withConfig({displayName:"AdsSection__SectionImageWrapper",componentId:"c3rx1s-3"})(["margin-bottom:33px;@media (min-width:","px){flex-basis:50%;&:first-child{margin-right:",";}&:last-child{margin-left:",";}}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(15),Object(c.b)(15));function f(e){var t=e.sections;return r.a.createElement(u,null,t.map((function(e){var t,n,o,l,c;return r.a.createElement(p,null,r.a.createElement(d.a,{fluid:(null==e||null===(t=e.image)||void 0===t?void 0:t.fluid)||(null==e||null===(n=e.imageDesktop)||void 0===n?void 0:n.fluid)}),r.a.createElement(s,null,r.a.createElement("p",null,Object(i.documentToReactComponents)((null==e||null===(o=e.textMobile)||void 0===o?void 0:o.json)||(null==e||null===(l=e.text)||void 0===l?void 0:l.json))),r.a.createElement(m,{to:Object(a.K)(null==e?void 0:e.button)},null==e||null===(c=e.button)||void 0===c?void 0:c.text)))})))}},ikZk:function(e,t,n){"use strict";var i=n("q1tI"),a=n.n(i),o=n("9eSz"),r=n.n(o),l=n("vOnD"),c=n("ovEV"),d=n("CJ9g"),u=n("upwP"),m=l.d.div.withConfig({displayName:"LineItemThumbnail__StyledLineItemThumbnail",componentId:"sc-489jbh-0"})(["display:flex;@media (min-width:","px){margin-right:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(13)),s=l.d.img.withConfig({displayName:"LineItemThumbnail__Img",componentId:"sc-489jbh-1"})(["width:89px;height:100%;background-color:grey;margin-right:13px;object-fit:cover;@media (min-width:","px){margin-right:",";width:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(13),Object(c.b)(89)),p=Object(l.d)(r.a).withConfig({displayName:"LineItemThumbnail__StyledImage",componentId:"sc-489jbh-2"})(["width:89px;min-height:116px;margin-right:13px;flex-shrink:0;background-color:grey;@media (min-width:","px){margin-right:",";width:",";min-height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(13),Object(c.b)(80),Object(c.b)(104)),f=l.d.div.withConfig({displayName:"LineItemThumbnail__Content",componentId:"sc-489jbh-3"})(["display:flex;flex-direction:column;justify-content:space-between;width:100%;"]),b=l.d.div.withConfig({displayName:"LineItemThumbnail__Wrapper",componentId:"sc-489jbh-4"})(["display:flex;justify-content:space-between;align-items:center;"]),h=l.d.h2.withConfig({displayName:"LineItemThumbnail__Title",componentId:"sc-489jbh-5"})(["font-size:12px;font-family:",";font-weight:500;margin:0 0 2px;@media (min-width:","px){font-size:",";line-height:",";margin:0 0 ",";}"],(function(e){return e.theme.fonts.primary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(12),Object(c.b)(18),Object(c.b)(10)),g=l.d.div.withConfig({displayName:"LineItemThumbnail__Details",componentId:"sc-489jbh-6"})(["display:flex;flex-direction:column;@media (min-width:","px){flex-direction:row;color:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),(function(e){var t=e.layout,n=e.theme;return t?n.colors.primary:n.colors.greyLight})),x=l.d.div.withConfig({displayName:"LineItemThumbnail__DetailWrapper",componentId:"sc-489jbh-7"})(["display:flex;flex-direction:column;@media (min-width:","px){margin-right:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(35)),v=(l.d.div.withConfig({displayName:"LineItemThumbnail__Break",componentId:"sc-489jbh-8"})(["width:100%;@media (min-width:","px){display:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),(function(e){return e.layout?"block":"none"})),l.d.div.withConfig({displayName:"LineItemThumbnail__Detail",componentId:"sc-489jbh-9"})(["font-size:10px;margin:0 9px 0 0;font-family:",";font-weight:400;color:",";&:last-child{margin:0;}@media (min-width:","px){font-size:",";margin:0 0 "," 0;line-height:1;}"],(function(e){return e.theme.fonts.primary}),(function(e){return e.theme.colors.greyLight}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(10),Object(c.b)(6))),y=l.d.div.withConfig({displayName:"LineItemThumbnail__ErrorText",componentId:"sc-489jbh-10"})(["color:#db3333;font-size:",";line-height:",";display:none;@media (min-width:","px){font-size:",";line-height:",";display:block;}"],Object(c.e)(10),Object(c.e)(12.5),(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(10),Object(c.b)(20));t.a=function(e){var t=e.className,n=e.lineItem,i=e.exchangeSize,o=e.exchangeColor,r=e.exchangePrice,l=e.exchangeImage,c=e.secondaryLayout,w=e.children,j=e.onLineItemClick,O=e.showPrice,I=void 0===O||O,_=e.showHighlightedPrice,C=void 0!==_&&_,k=e.errText,E=n.variantTitle.split("/").filter((function(e){return!e.includes("-")})),S=E.slice(0,-1).join("/"),N=E.slice(-1)[0],z=r||parseFloat(n.price),A=Object(d.a)().devices;return a.a.createElement(m,{onClick:j,className:t},l?a.a.createElement(p,{fluid:l.fluid,alt:l.description}):a.a.createElement(s,{loading:"lazy",src:n.image}),a.a.createElement(f,{className:"line_item_thumbnail__content"},a.a.createElement("div",null,a.a.createElement(h,{layout:c},n.title),C&&a.a.createElement(v,{style:{fontWeight:500,color:u.colors.primary},className:"line_item_thumbnail__detail"},"$"+z),a.a.createElement(b,{className:"line_item_thumbnail__wrapper"},a.a.createElement(g,{className:"line_item_thumbnail__content",layout:c},a.a.createElement(x,null,a.a.createElement(v,{className:"line_item_thumbnail__detail"},"Qty: "+n.quantity),I&&a.a.createElement(v,{className:"line_item_thumbnail__detail"},"Price: $"+z)),a.a.createElement(x,null,a.a.createElement(v,{className:"line_item_thumbnail__detail"},"Size: "+(i||S)),a.a.createElement(v,{className:"line_item_thumbnail__detail"},"Color: "+(o||N)))),A.mobile&&a.a.createElement("div",{style:{marginRight:10}},w))),k&&a.a.createElement(y,null,k),A.desktop&&a.a.createElement("div",null,w)))}}}]);
//# sourceMappingURL=component---src-templates-account-cancel-js-c8d9d14926d3ec1cc91a.js.map