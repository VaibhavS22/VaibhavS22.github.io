{"version":3,"sources":["webpack:///./src/assets/right_arrow.svg","webpack:///./src/components/SEO.js","webpack:///./src/components/Account/SidebarNav.js","webpack:///./src/components/Account/AccountWrapper.js","webpack:///./src/components/Account/Order.js","webpack:///./src/components/Account/OrderLineItem.js","webpack:///./src/components/CancelOrders/CancelOrderSideDrawer.js","webpack:///./src/components/Account/EditShippingAddressWrapper.js","webpack:///./src/components/Account/Orders.js","webpack:///./src/templates/Account/MyOrdersAndReturns.js","webpack:///./src/components/Account/PageHeader.js"],"names":["React","RightArrow","props","createElement","defaultProps","module","exports","default","SEO","title","description","type","slug","canonicalUrl","image","schemaData","noindex","nofollow","category","reviewsAndRatings","price","userReviews","reviews","map","review","author","datePublished","dateCreated","body","reviewRating","bestRating","ratingValue","rating","worstRating","name","content","index","property","rel","href","hrefLang","toFixed","averageRating","count","JSON","stringify","StyledSidebarNav","styled","div","theme","breakpoints","desktopSmall","desktopVw","SelectWrapper","MobileSelect","select","colors","greyLighter","Dropdown","DropdownIcon","Sticky","header","desktop","height","WelcomeText","fonts","heading","NavWrapper","Nav","nav","NavItem","ContactDetails","silver","Logout","TextButton","primary","greyLight","SidebarNav","menuList","contact","activeSlug","user","signOutUser","useSignoutUser","onChange","e","value","target","navigate","handleChange","menuItem","key","id","getLinkPath","text","to","active","documentToReactComponents","json","onClick","trackParams","trackInternal","action","context","login_email","email","lb_user_id","getCookie","ANALYTIC_COOKIES","LB_USER_ID","StyledAccountWrapper","Wrapper","Container","ContentWrapper","AccountWrapper","children","menu","heroImage","useEffect","isLoggedIn","window","location","getCurrentUser","StyledOrder","Header","OrderDetail","DetailTitle","OrderNumber","Row","Detail","Body","OrderNumberWrap","span","UnderlinedText","u","StyledSuccessMessage","mobileVw","secondary","green","HeaderDesktop","datetime","formattedDate","orderNumber","totalPrice","setActiveOrder","showCancelOrderLink","className","as","HeaderMobile","Order","createdAt","shipments","unallocatedLineItems","successBannerOrderNumber","successBannerText","orderRef","dayjs","format","devices","useDetectDevices","Array","isArray","length","ref","dangerouslySetInnerHTML","__html","mobile","forwardRef","StyledOrderLineItem","StyledLineItemThumbnail","LineItemThumbnail","Buttons","StyledButton","Button","contrast","OrderLineItem","lineItem","reviewForm","order","cancelledOrder","unallocatedOrder","useState","modalOpen","setModalOpen","sizes","setSizes","shopifyColors","setShopifyColors","product","useShopifyProduct","productHandle","contentfulProduct","useContentfulProduct","productId","buyAgainModalOpen","setBuyAgainModalOpen","sizeOption","options","find","values","colorOption","QuickShopModal","shopifyProduct","variants","edges","startingColor","color","open","onClose","tracker","onLineItemClick","getReturnsRoute","state","ReviewFormModal","closeModal","productName","Form","form","Text","Footer","AlertContainer","ButtonContainer","SubHeading","p","Img","img","CancelOrderSideDrawer","activeOrder","reloadPageData","formData","setFormData","validationError","setValidationError","useFetch","cancelOrder","fetchData","cancelOrderErr","error","cancelOrderResponse","response","loading","status","message","eventTracker","track","EventType","ORDER_CANCEL","entityId","orderId","line_items","allLineItems","work_flow","reason","reasonCode","comments","additionalComments","successMsg","saveFormData","Drawer","src","label","required","CANCELATION_REASONS","placeholder","black","url","process","method","headers","cancel_order","items","redirect","captureWarning","API","EditAddressSideDrawer","StyledOrders","ul","ShipmentContainer","ShipmentSummary","ShipmentNumber","LineItemContainerTitle","delivered","shamrockGreen","UnallocatedContainer","DesktopBtn","UnallocatedLineItems","OrderTrackingLineItems","orderTrackingLineItemsByShipment","shipment","sIdx","carrier","undeliveredShipment","statusSummary","expectedDeliveryDate","carrierEstimatedDeliveryDate","deliveredDate","deliveryDate","prefixText","shippedText","getHiddenCarrierList","indexOf","getCarrierDisplayName","shipmentId","style","width","lineItems","getTrackingRoute","ReturnLineItems","returnLineItems","showTrackReturn","marginTop","labelUrl","trackingUrl","Orders","orders","addAddressForm","activeModal","setActiveModal","renderAllocatedLineItems","useCallback","getReturnLineItems","getOrderTrackingLineItemsByShipment","returnCompletedLineItems","filter","returnStartedLineItems","returnCompletedLineItemsByReturnId","groupBy","returnStartedLineItemsByReturnId","Object","keys","returnId","orderListRef","setOrderListRef","reduce","refObj","createRef","scrollTo","getCancellationRoute","cancelledLineItems","display","addressData","updatedOrderId","successHTML","address1","city","PROVINCE_CODE_MAP","province","zip","showPadding","Error","StyledPageHeader","PageHeader","StyledAnchor","a","MyOrdersAndReturnsQuery","MyOrdersAndReturns","data","page","contentfulAccountPage","successBannerHtml","showSuccessBanner","setShowSuccessBanner","updatedOrder","successBannerOrder","setSuccessBannerOrder","el","document","getElementById","isMobile","matchMedia","matches","headerHeight","parseFloat","innerWidth","top","getBoundingClientRect","scrollY","behavior","seoTitle","seoDescription","metaImage","fluid","hero","SpinningLoader","Title","h1"],"mappings":"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","file":"component---src-templates-account-my-orders-and-returns-js-056145f9fe701f974981.js","sourcesContent":["var React = require('react');\n\nfunction RightArrow (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"rect\",{\"y\":\"13.4355\",\"width\":\"10\",\"height\":\"1\",\"transform\":\"rotate(-45 0 13.4355)\",\"fill\":\"#C4C4C4\",\"key\":0}),React.createElement(\"rect\",{\"y\":\"0.707031\",\"width\":\"1\",\"height\":\"10\",\"transform\":\"rotate(-45 0 0.707031)\",\"fill\":\"#C4C4C4\",\"key\":1})]);\n}\n\nRightArrow.defaultProps = {\"width\":\"8\",\"height\":\"15\",\"viewBox\":\"0 0 8 15\",\"fill\":\"none\"};\n\nmodule.exports = RightArrow;\n\nRightArrow.default = RightArrow;\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\n\nconst SEO = ({\n  title,\n  description,\n  type,\n  slug,\n  canonicalUrl,\n  image,\n  noindex,\n  nofollow,\n  schemaData,\n  category,\n  reviewsAndRatings,\n  price,\n}) => {\n  const index =\n    noindex || process.env.GATSBY_BUILD_ENVIRONMENT !== 'production'\n      ? 'noindex'\n      : 'index'\n  const follow =\n    nofollow || process.env.GATSBY_BUILD_ENVIRONMENT !== 'production'\n      ? 'nofollow'\n      : 'follow'\n  const userReviews =\n    schemaData &&\n    reviewsAndRatings &&\n    reviewsAndRatings.reviews.map(review => {\n      return {\n        '@type': 'Review',\n        author: review.author,\n        datePublished: review.dateCreated,\n        description: review.body,\n        reviewRating: {\n          '@type': 'Rating',\n          bestRating: '5',\n          ratingValue: `${review.rating}`,\n          worstRating: '1',\n        },\n      }\n    })\n  return (\n    <Helmet>\n      <title>{title}</title>\n      <meta name='robots' content={`${index}, ${follow}`} />\n      <meta name='description' content={description || ''} />\n      <meta property='og:title' content={title || ''} />\n      <meta property='og:type' content={type || ''} />\n      <meta property='og:url' content={`https://www.onequince.com/${slug}`} />\n      <meta property='og:image' content={image && image} />\n      <link\n        rel='alternate'\n        href={`https://www.onequince.com/${slug}`}\n        hrefLang='en-US'\n      />\n      <link\n        rel='canonical'\n        href={canonicalUrl || `https://www.onequince.com/${slug}`}\n      />\n      {schemaData && reviewsAndRatings && (\n        <script type='application/ld+json'>\n          {`{\n              \"@context\": \"https://schema.org\",\n              \"@type\": \"${type}\",\n              \"name\": \"${title}\",\n              \"description\": \"${description}\",\n              \"image\": \"${image}\",\n              \"category\": \"${category}\",\n              \"brand\": \"Quince\",\n              \"offers\": {\n                \"@type\": \"Offer\",\n                \"availability\": \"http://schema.org/InStock\",\n                \"price\": \"${price && price.toFixed(2)}\",\n                \"priceCurrency\": \"USD\"\n              },\n              \"aggregateRating\": {\n                \"@type\" : \"AggregateRating\",\n                \"ratingValue\": \"${reviewsAndRatings.averageRating}\",\n                \"reviewCount\": \"${reviewsAndRatings.count}\"\n              },\n              \"review\": ${JSON.stringify(userReviews)}\n            }`}\n        </script>\n      )}\n      {schemaData && !reviewsAndRatings && (\n        <script type='application/ld+json'>\n          {`{\n              \"@context\": \"https://schema.org\",\n              \"@type\": \"${type}\",\n              \"name\": \"${title}\",\n              \"description\": \"${description}\",\n              \"image\": \"${image}\",\n              \"category\": \"${category}\",\n              \"brand\": \"Quince\",\n              \"offers\": {\n                \"@type\": \"Offer\",\n                \"availability\": \"http://schema.org/InStock\",\n                \"price\": \"${price && price.toFixed(2)}\",\n                \"priceCurrency\": \"USD\"\n              }\n            }`}\n        </script>\n      )}\n    </Helmet>\n  )\n}\n\nexport default SEO\n","import React from 'react'\nimport styled from 'styled-components'\nimport { navigate } from '@reach/router'\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer'\n\n// Styles\nimport { desktopVw } from '../../styles/utils'\n\n// Utils\nimport { getCookie, getLinkPath, logout } from '../../utils'\n\n// Components\nimport TextButton from '../TextButton'\n\nimport DropdownIcon from '../../assets/dropdown.svg'\nimport { useSignoutUser } from '../../hooks/useSignoutUser'\nimport { ANALYTIC_COOKIES } from '../../utils/constants'\n\nconst StyledSidebarNav = styled.div`\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-right: ${desktopVw(80)};\n    width: ${desktopVw(235)};\n  }\n`\nconst SelectWrapper = styled.div`\n  position: relative;\n  margin: 0 0 30px;\n  box-sizing: border-box;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: none;\n  }\n`\n\nconst MobileSelect = styled.select`\n  font-size: 20px;\n  padding: 20px;\n  background: none;\n  width: 100%;\n  -webkit-appearance: none;\n  border-radius: 0;\n  border: none;\n  border-bottom: 1px solid ${props => props.theme.colors.greyLighter};\n`\n\nconst Dropdown = styled(DropdownIcon)`\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 20px;\n  pointer-events: none;\n`\n\nconst paddingTop = 61\n\nconst Sticky = styled.div`\n  display: none;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: block;\n    position: sticky;\n    top: ${props => desktopVw(props.theme.header.desktop.height + paddingTop)};\n  }\n`\n\nconst WelcomeText = styled.div`\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    position: relative;\n    text-transform: uppercase;\n    font-weight: 500;\n    font-family: ${props => props.theme.fonts.heading};\n    font-size: ${desktopVw(12)};\n    line-height: ${desktopVw(15)};\n    margin-bottom: ${desktopVw(22)};\n    word-break: break-word;\n  }\n`\n\nconst NavWrapper = styled.div`\n  display: none;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    height: 100%;\n    display: block;\n  }\n`\n\nconst Nav = styled.nav`\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: flex;\n    flex-direction: column;\n    width: ${desktopVw(170)};\n    margin-right: ${desktopVw(160)};\n    padding-bottom: ${desktopVw(15)};\n  }\n`\n\nconst NavItem = styled.div`\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(12)};\n    margin-bottom: ${desktopVw(10)};\n  }\n`\n\nconst ContactDetails = styled.div`\n  display: none;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: block;\n    line-height: ${desktopVw(15)};\n    text-transform: uppercase;\n    border-top: 1px solid ${props => props.theme.colors.silver};\n    font-size: ${desktopVw(10)};\n    padding-top: ${desktopVw(15)};\n    margin-bottom: ${desktopVw(14)};\n    width: ${desktopVw(138)};\n  }\n`\n\nconst Logout = styled(TextButton)`\n  font-size: 10px;\n  font-family: ${props => props.theme.fonts.primary};\n  color: ${props => props.theme.colors.greyLight};\n  text-transform: uppercase;\n  cursor: pointer;\n  background-image: ${props =>\n    `linear-gradient(${props.theme.colors.greyLight}, ${props.theme.colors.greyLight});`};\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(10)};\n  }\n`\n\nconst SidebarNav = ({ menuList, contact, activeSlug, user }) => {\n  const { signOutUser } = useSignoutUser()\n\n  const handleChange = e => {\n    const { value } = e.target\n\n    if (value === 'logout') {\n      signOutUser()\n    } else navigate(value)\n  }\n\n  return (\n    <StyledSidebarNav>\n      <SelectWrapper>\n        <MobileSelect onChange={e => handleChange(e)} value={`/${activeSlug}`}>\n          {menuList.map(menuItem => (\n            <option key={menuItem.id} value={getLinkPath(menuItem)}>\n              {menuItem.text}\n            </option>\n          ))}\n          <option value='logout'>Logout</option>\n        </MobileSelect>\n        <Dropdown />\n      </SelectWrapper>\n      <Sticky>\n        <WelcomeText>\n          Hi <br /> {`${user.name}!`}\n        </WelcomeText>\n        <NavWrapper>\n          <Nav>\n            {menuList.map(menuItem => (\n              <NavItem key={menuItem.id}>\n                <TextButton\n                  to={getLinkPath(menuItem)}\n                  active={`/${activeSlug}` === getLinkPath(menuItem)}\n                >\n                  {menuItem.text}\n                </TextButton>\n              </NavItem>\n            ))}\n          </Nav>\n          <ContactDetails>\n            {documentToReactComponents(contact.json)}\n          </ContactDetails>\n          <Logout\n            onClick={signOutUser}\n            trackParams={{\n              trackInternal: true,\n              category: 'login',\n              action: 'account_logout',\n              context: {\n                login_email: user.email,\n                lb_user_id: getCookie(ANALYTIC_COOKIES.LB_USER_ID),\n              },\n            }}\n          >\n            Logout\n          </Logout>\n        </NavWrapper>\n      </Sticky>\n    </StyledSidebarNav>\n  )\n}\n\nexport default SidebarNav\n","import React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport Image from 'gatsby-image'\n\nimport { navigate } from '@reach/router'\n\nimport { desktopVw } from '../../styles/utils'\nimport { getCurrentUser, isLoggedIn } from '../../utils/auth'\n\nimport SidebarNav from './SidebarNav'\n\nconst StyledAccountWrapper = styled.div``\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: 80px;\n  margin-bottom: -30px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-top: -${props => desktopVw(props.theme.header.desktop.height + 2)};\n    height: ${desktopVw(77)};\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n`\n\nconst Container = styled.div`\n  position: relative;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: flex;\n    padding: ${desktopVw(61)} ${desktopVw(80)} ${desktopVw(120)}\n      ${desktopVw(80)};\n  }\n`\n\nconst WelcomeText = styled.div`\n  position: absolute;\n  left: 20px;\n  bottom: 32px;\n  text-transform: uppercase;\n  font-weight: 500;\n  font-size: 30px;\n  font-family: ${props => props.theme.fonts.heading};\n  word-break: break-word;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: none;\n  }\n`\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: block;\n  }\n`\n\nconst AccountWrapper = ({ children, heroImage, menu, contact, activeSlug }) => {\n  useEffect(() => {\n    if (!isLoggedIn()) {\n      navigate(`/log-in?redirecturi=${window.location.href}`)\n    }\n  }, [])\n\n  const user = getCurrentUser()\n\n  return (\n    <StyledAccountWrapper>\n      <Wrapper>\n        <WelcomeText>{`Hi ${user.name}!`}</WelcomeText>\n      </Wrapper>\n      <Container>\n        <SidebarNav\n          menuList={menu}\n          contact={contact}\n          activeSlug={activeSlug}\n          user={user}\n        />\n        <ContentWrapper>{children}</ContentWrapper>\n      </Container>\n    </StyledAccountWrapper>\n  )\n}\n\nexport default AccountWrapper\n","import React from 'react'\nimport styled from 'styled-components'\nimport dayjs from 'dayjs'\n\nimport { desktopVw, mobileVw } from '../../styles/utils'\nimport useDetectDevices from '../../hooks/useDetectDevices'\n\nconst StyledOrder = styled.div`\n  /* max-width: 333px; */\n  margin: 0 auto 20px;\n  border: 0.5px solid ${props => props.theme.colors.silver};\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin: 0 auto ${desktopVw(28)};\n    max-width: ${desktopVw(960)};\n  }\n`\n\nconst Header = styled.header`\n  padding: 11px 17px;\n  border-bottom: 0.5px solid ${props => props.theme.colors.silver};\n  background: #f2f2f2;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: flex;\n    padding: ${desktopVw(18)} ${desktopVw(40)};\n  }\n`\n\nconst OrderDetail = styled.div`\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    &:first-child {\n      flex-basis: ${desktopVw(235)};\n    }\n  }\n`\n\nconst DetailTitle = styled.div`\n  font-size: 13px;\n  line-height: 25px;\n  text-align: right;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    text-align: left;\n    text-transform: uppercase;\n    font-size: ${desktopVw(13)};\n    line-height: ${desktopVw(25)};\n  }\n`\n\nconst OrderNumber = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 13px;\n  line-height: 25px;\n  flex-direction: column;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    text-transform: uppercase;\n    font-size: ${desktopVw(13)};\n    line-height: ${desktopVw(25)};\n    align-items: flex-end;\n  }\n`\n\nconst Row = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  ${OrderDetail}:first-child {\n    margin-right: 60px;\n  }\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin: 0;\n    flex-grow: 1;\n\n    ${OrderDetail}:first-child {\n      margin-right: 0;\n    }\n  }\n`\n\nconst Detail = styled.div`\n  font-size: 12px;\n  line-height: 20px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(12)};\n    line-height: ${desktopVw(20)};\n    margin-right: ${desktopVw(14)};\n  }\n`\n\nconst Body = styled.div`\n  padding: 10px 12px 30px 21px;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    padding: ${desktopVw(16)} ${desktopVw(40)} ${desktopVw(27)};\n  }\n`\n\nconst OrderNumberWrap = styled.span``\n\nconst UnderlinedText = styled.u`\n  cursor: pointer;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(12)};\n    line-height: ${desktopVw(20)};\n    text-transform: none;\n  }\n`\nconst StyledSuccessMessage = styled.div`\n  display: block;\n  padding: ${mobileVw(13)} ${mobileVw(13)} ${mobileVw(13)} ${mobileVw(21)};\n  color: ${props => props.theme.colors.secondary};\n  background-color: ${props => props.theme.colors.green};\n  font-size: ${mobileVw(12)};\n  line-height: ${mobileVw(20)};\n  font-weight: 400;\n  b {\n    font-weight: 500;\n  }\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: block;\n    padding: ${desktopVw(18)} ${desktopVw(40)};\n    color: ${props => props.theme.colors.secondary};\n    background-color: ${props => props.theme.colors.green};\n    font-weight: 400;\n    font-size: ${desktopVw(12)};\n    line-height: ${desktopVw(20)};\n  }\n`\n\nfunction HeaderDesktop({\n  datetime,\n  formattedDate,\n  orderNumber,\n  totalPrice,\n  setActiveOrder,\n  showCancelOrderLink,\n}) {\n  return (\n    <Header className='order__header'>\n      <OrderDetail>\n        <DetailTitle>Order placed</DetailTitle>\n        <Detail as='time' datetime={datetime}>\n          {formattedDate}\n        </Detail>\n      </OrderDetail>\n      <Row>\n        <OrderDetail>\n          <DetailTitle>Total</DetailTitle>\n          <Detail>{`$${totalPrice}`}</Detail>\n        </OrderDetail>\n        <OrderNumber>\n          <OrderNumberWrap>Order {`#${orderNumber}`}</OrderNumberWrap>\n          {showCancelOrderLink && (\n            <UnderlinedText onClick={setActiveOrder}>\n              Cancel Order\n            </UnderlinedText>\n          )}\n        </OrderNumber>\n      </Row>\n    </Header>\n  )\n}\n\nfunction HeaderMobile({ datetime, formattedDate, orderNumber, totalPrice }) {\n  return (\n    <Header className='order__header'>\n      <Row>\n        <OrderDetail>\n          <OrderNumber>Order {`#${orderNumber}`}</OrderNumber>\n          <Detail as='time' datetime={datetime}>\n            {formattedDate}\n          </Detail>\n        </OrderDetail>\n        <OrderDetail>\n          <DetailTitle>Total</DetailTitle>\n          <Detail>{`$${totalPrice}`}</Detail>\n        </OrderDetail>\n      </Row>\n    </Header>\n  )\n}\n\nconst Order = ({\n  className,\n  children,\n  createdAt,\n  totalPrice,\n  orderNumber,\n  setActiveOrder,\n  shipments,\n  unallocatedLineItems,\n  successBannerOrderNumber,\n  successBannerText,\n  orderRef,\n}) => {\n  const formattedDate = dayjs(createdAt).format('MMMM D, YYYY')\n  const { devices } = useDetectDevices()\n  const showCancelOrderLink =\n    (!shipments || (Array.isArray(shipments) && shipments.length == 0)) && // shipments can be nullish i.e, either [] or null\n    Array.isArray(unallocatedLineItems) &&\n    unallocatedLineItems.length > 0 // show cancel only when unallocated items present\n  return (\n    <StyledOrder\n      ref={orderRef}\n      className={`${className} order`}\n      id={`${orderNumber}`}\n    >\n      {successBannerText && successBannerOrderNumber == orderNumber && (\n        <StyledSuccessMessage\n          dangerouslySetInnerHTML={{ __html: successBannerText }}\n        />\n      )}\n      {devices.mobile && (\n        <HeaderMobile\n          datetime={createdAt}\n          formattedDate={formattedDate}\n          totalPrice={totalPrice}\n          orderNumber={orderNumber}\n        />\n      )}\n      {devices.desktop && (\n        <HeaderDesktop\n          datetime={createdAt}\n          formattedDate={formattedDate}\n          totalPrice={totalPrice}\n          orderNumber={orderNumber}\n          setActiveOrder={setActiveOrder}\n          showCancelOrderLink={showCancelOrderLink}\n        />\n      )}\n      <Body>{children}</Body>\n    </StyledOrder>\n  )\n}\n\nexport default React.forwardRef((props, ref) => (\n  <Order {...props} orderRef={ref} />\n))\n","import React, { useEffect, useState } from 'react'\n\n// Styles\nimport styled from 'styled-components'\n\n// Utils\nimport { desktopVw } from '../../styles/utils'\nimport { getHiddenCarrierList, getCarrierDisplayName } from '../../utils'\n\n// Components\nimport LineItemThumbnail from './LineItemThumbnail'\nimport Button from '../Button'\nimport ReviewFormModal from '../ReviewFormModal'\nimport useDetectDevices from '../../hooks/useDetectDevices'\n\nimport RightArrow from '../../assets/right_arrow.svg'\nimport { navigate } from '@reach/router'\nimport { getReturnsRoute } from '../../utils/returns'\n\nimport QuickShopModal from '../QuickShopModal'\nimport useShopifyProduct from '../../hooks/useShopifyProduct'\nimport useContentfulProduct from '../../hooks/useContentfulProduct'\n\nconst StyledOrderLineItem = styled.div`\n  margin-bottom: 28px;\n  padding-bottom: 28px;\n  border-bottom: 1px solid #e0e0e0;\n  &:last-child {\n    border-bottom: 0;\n    margin-bottom: 0;\n    padding-bottom: 0;\n  }\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin: 0 0 ${desktopVw(25)};\n    padding-bottom: 0;\n    border-bottom: none;\n  }\n`\n\nconst Header = styled.div`\n  border-bottom: 1px solid ${props => props.theme.colors.greyLight};\n  padding-bottom: 18px;\n  margin-bottom: 29px;\n  font-size: 12px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    text-transform: uppercase;\n    font-size: ${desktopVw(10)};\n    line-height: ${desktopVw(20)};\n    border-bottom: none;\n    margin-bottom: ${desktopVw(15)};\n    padding-bottom: 0;\n  }\n`\n\nconst UnallocatedOrderGap = styled.div`\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-bottom: ${desktopVw(15)};\n  }\n`\n\nconst Body = styled.div`\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: flex;\n    flex: 1;\n  }\n`\n\nconst StyledLineItemThumbnail = styled(LineItemThumbnail)`\n  .line_item_thumbnail__wrapper {\n    margin-top: 12px;\n  }\n  .line_item_thumbnail__detail {\n    margin-bottom: 2px;\n  }\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    .line_item_thumbnail__wrapper {\n      margin-top: 0;\n    }\n    .line_item_thumbnail__detail {\n      margin-bottom: ${desktopVw(6)};\n    }\n  }\n`\n\nconst Buttons = styled.div`\n  a,\n  button {\n    box-sizing: border-box;\n  }\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: flex;\n    justify-content: flex-end;\n  }\n`\n\nconst StyledButton = styled(Button)`\n  font-size: 12px;\n  padding: 0;\n  width: 100%;\n  margin-bottom: 20px;\n  height: 38px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${props =>\n    props.contrast ? props.theme.colors.secondary : props.theme.colors.primary};\n  background: ${props =>\n    props.contrast ? props.theme.colors.primary : props.theme.colors.secondary};\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  &:disabled {\n    border: solid 1px ${props => props.theme.colors.greyLight};\n    color: ${props => props.theme.colors.greyLight};\n    cursor: initial;\n\n    &:hover {\n      background: ${props => props.theme.colors.secondary};\n    }\n  }\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(8)};\n    line-height: ${desktopVw(6)};\n    margin-right: ${desktopVw(10)};\n    min-width: ${desktopVw(121)};\n    text-transform: uppercase;\n    margin-bottom: 0;\n  }\n`\n\nfunction isReturnRaised(lineItem) {\n  return lineItem.returnedQuantity === lineItem.quantity\n}\n\nfunction getLatestReturnDetailForLineItem(order, lineItemId) {\n  const returnsForLineItem = (order?.returns || []).filter(\n    ({ returnLineItems }) => {\n      return (\n        (returnLineItems || []).findIndex(\n          rLineItem => rLineItem.lineItemId === lineItemId,\n        ) > -1\n      )\n    },\n  )\n\n  const returnsByDateCreatedDesc = (returnsForLineItem || []).sort(\n    (returnObj1, returnObj2) =>\n      new Date(returnObj2?.dateCreated) - new Date(returnObj1?.dateCreated),\n  )\n\n  return returnsByDateCreatedDesc?.[0]\n}\n\nconst OrderLineItem = ({\n  lineItem,\n  reviewForm,\n  order,\n  cancelledOrder,\n  unallocatedOrder,\n}) => {\n  const [modalOpen, setModalOpen] = useState(false)\n  const [sizes, setSizes] = useState([])\n  const [shopifyColors, setShopifyColors] = useState([])\n\n  const { product } = useShopifyProduct(lineItem.productHandle)\n  const { product: contentfulProduct } = useContentfulProduct(\n    lineItem.productId,\n  )\n\n  const [buyAgainModalOpen, setBuyAgainModalOpen] = useState(false)\n  const { devices } = useDetectDevices()\n\n  useEffect(() => {\n    if (!product) {\n      return\n    }\n\n    const sizeOption = product.options.find(({ name }) => name === 'Size')\n    if (sizeOption) {\n      setSizes(sizeOption.values)\n    }\n\n    const colorOption = product.options.find(({ name }) => name === 'Color')\n    if (colorOption) {\n      setShopifyColors(colorOption.values)\n    }\n  }, [product])\n\n  return (\n    <StyledOrderLineItem>\n      {contentfulProduct && product && (\n        <QuickShopModal\n          product={product}\n          contentfulProduct={contentfulProduct}\n          shopifyProduct={product}\n          title={lineItem.title}\n          variants={product && product.variants.edges}\n          sizes={sizes}\n          startingColor={lineItem?.color}\n          open={buyAgainModalOpen}\n          onClose={() => setBuyAgainModalOpen(false)}\n          tracker='returns_process'\n          shopifyColors={shopifyColors}\n        />\n      )}\n\n      <Body>\n        <StyledLineItemThumbnail\n          lineItem={lineItem}\n          onLineItemClick={() => {\n            if (devices.desktop) return\n            navigate(`${getReturnsRoute(order)}?show_order_summary=true`, {\n              state: { lineItem, order },\n            })\n          }}\n        >\n          {devices.desktop ? (\n            <Buttons>\n              <StyledButton onClick={() => setBuyAgainModalOpen(true)} contrast>\n                Buy it again\n              </StyledButton>\n              {reviewForm && (\n                <>\n                  <StyledButton onClick={() => setModalOpen(true)}>\n                    Write a review\n                  </StyledButton>\n                  <ReviewFormModal\n                    open={modalOpen}\n                    reviewForm={reviewForm}\n                    closeModal={() => setModalOpen(false)}\n                    productId={lineItem.productId}\n                    productName={lineItem.title}\n                  />\n                </>\n              )}\n            </Buttons>\n          ) : !cancelledOrder ? (\n            <RightArrow />\n          ) : null}\n        </StyledLineItemThumbnail>\n      </Body>\n    </StyledOrderLineItem>\n  )\n}\n\nexport default OrderLineItem\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\n\nimport { desktopVw } from '../../styles/utils'\n\n// Components\nimport Button from '../Button'\n\n// Stage components\n\nimport {\n  Alert,\n  Container,\n  CustomSelect,\n  Select,\n  TextArea,\n} from '../FormElements'\n\nimport Drawer from '../common/Drawer'\n\nimport { CANCELATION_REASONS } from '../../utils'\nimport useFetch from '../../hooks/useFetch'\nimport { captureWarning } from '../Sentry/utils'\nimport eventTracker from '../../trackers/EventTracker'\nimport EventType from '../../trackers/eventType'\n\nconst Form = styled.form`\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    /* padding-top: ${desktopVw(26.5)}; */\n  }\n`\n\nconst Text = styled.div`\n  font-size: 12px;\n  margin: 15px 0 10px;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(12)};\n    margin: ${desktopVw(12)} 0 ${desktopVw(10)};\n  }\n`\n\nconst Footer = styled.div`\n  margin-top: 30px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-top: ${desktopVw(4)};\n  }\n`\n\nconst AlertContainer = styled.div`\n  margin-bottom: 16px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-bottom: ${desktopVw(16)};\n  }\n`\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: column-reverse;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    flex-direction: row;\n  }\n`\n\nconst StyledButton = styled(Button)`\n  display: block;\n  width: 100%;\n  margin: 0 0 10px;\n  padding: 10px;\n  span {\n    font-size: 12px;\n  }\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin: 0;\n    span {\n      font-size: ${desktopVw(12)};\n      text-transform: uppercase;\n    }\n  }\n`\n\nconst SubHeading = styled.p`\n  font-size: 12px;\n  font-weight: 500;\n  margin-bottom: 15px;\n`\n\nconst Img = styled.img`\n  width: 49px;\n  height: 64px;\n  background-color: grey;\n  margin-right: 13px;\n  object-fit: cover;\n`\n\nconst CancelOrderSideDrawer = ({\n  open,\n  closeModal,\n  activeOrder,\n  reloadPageData,\n}) => {\n  const [formData, setFormData] = useState({})\n  const [validationError, setValidationError] = useState('')\n  const {\n    fetchData: cancelOrder,\n    error: cancelOrderErr,\n    response: cancelOrderResponse,\n    loading,\n  } = useFetch()\n\n  const valid = () => {\n    if (!formData.reasonCode) {\n      setValidationError('Please select a reason before proceeding')\n\n      return false\n    }\n    setValidationError('')\n    return true\n  }\n\n  const handleSubmit = () => {\n    if (!valid() || loading) return\n\n    const url = `${process.env.GATSBY_ORDERS_API_ENDPOINT}/service/orders/${activeOrder?.orderId}/cancel`\n\n    try {\n      const body = {\n        cancel_order: true,\n        items: [],\n      }\n\n      const options = {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n        redirect: 'follow',\n      }\n      cancelOrder(url, options)\n    } catch (error) {\n      setValidationError(true)\n      captureWarning(\n        `Cancel Order API request failed with following error: ${error}`,\n        { activeOrder },\n        {\n          API: 'Cancel Order',\n          type: 'API_FAILURE',\n        },\n      )\n    }\n  }\n\n  useEffect(() => {\n    if (cancelOrderResponse) {\n      if (cancelOrderResponse.status === 500) {\n        setValidationError(\n          cancelOrderResponse.message || cancelOrderResponse.error,\n        )\n      } else if (cancelOrderResponse.status === 400) {\n        setValidationError(\n          cancelOrderResponse.message || cancelOrderResponse.error,\n        )\n      } else {\n        eventTracker.track(EventType.ORDER_CANCEL, {\n          entityId: activeOrder?.orderId,\n          action: 'cancel_order',\n          category: 'cancel',\n          context: {\n            line_items: activeOrder?.allLineItems,\n            work_flow: 'order_level_cancellation',\n            reason: {\n              reasonCode: formData?.reasonCode,\n              comments: formData?.additionalComments,\n            },\n          },\n        })\n        closeModal()\n        reloadPageData({\n          successMsg: 'Your order will be refunded in 2 - 3 business days.',\n          orderId: activeOrder?.orderNumber,\n        })\n      }\n    }\n  }, [cancelOrderErr, cancelOrderResponse])\n\n  const saveFormData = e => {\n    setFormData({\n      ...formData,\n      [e?.target?.name]: e?.target?.value,\n    })\n  }\n\n  return (\n    <Drawer open={open} onClose={closeModal}>\n      <Form>\n        <>\n          <SubHeading>Items In This Order</SubHeading>\n          <div>\n            {(activeOrder?.allLineItems ?? []).map(lineItem => (\n              <Img key={lineItem.id} loading='lazy' src={lineItem.image} />\n            ))}\n          </div>\n        </>\n\n        <Container>\n          <Text>Reason</Text>\n          <CustomSelect\n            label='Select Reason'\n            name='reasonCode'\n            required\n            options={CANCELATION_REASONS}\n            onChange={saveFormData}\n          />\n        </Container>\n        {formData?.reasonCode === 'OTHER' && (\n          <Container>\n            <Text>Additional Comments</Text>\n            <TextArea\n              name='additionalComments'\n              required\n              placeholder=''\n              onChange={saveFormData}\n              value={formData?.additionalComments}\n              height={100}\n            />\n          </Container>\n        )}\n      </Form>\n\n      <Footer>\n        {validationError && (\n          <AlertContainer>\n            <Alert message={validationError} />\n          </AlertContainer>\n        )}\n        <ButtonContainer>\n          <StyledButton\n            black\n            type='button'\n            onClick={handleSubmit}\n            loading={loading}\n          >\n            Submit\n          </StyledButton>\n        </ButtonContainer>\n      </Footer>\n    </Drawer>\n  )\n}\n\nexport default CancelOrderSideDrawer\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { desktopVw, mobileVw } from '../../styles/utils'\n\nimport Drawer from '../common/Drawer'\nimport EditAddress from './EditShippingAdress'\n\nconst Wrapper = styled.div`\n  .side__modal__container {\n    padding: ${mobileVw(48)} ${mobileVw(18)} ${mobileVw(48)} ${mobileVw(24)};\n    @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n      padding: ${desktopVw(33)} ${desktopVw(0)} ${desktopVw(33)}\n        ${desktopVw(40)};\n      width: ${desktopVw(456)};\n    }\n  }\n`\n\nconst EditAddressSideDrawer = props => {\n  const { open, closeModal } = props\n  return (\n    <Wrapper>\n      <Drawer open={open} onClose={closeModal}>\n        <EditAddress {...props} />\n      </Drawer>\n    </Wrapper>\n  )\n}\n\nexport default EditAddressSideDrawer\n","import React, { createRef, useEffect, useState } from 'react'\n\n// Styles\nimport styled from 'styled-components'\n\n// Utils\nimport dayjs from 'dayjs'\nimport { desktopVw } from '../../styles/utils'\n\nimport Order from './Order'\nimport OrderLineItem from './OrderLineItem'\nimport {\n  getCarrierDisplayName,\n  getHiddenCarrierList,\n  groupBy,\n  scrollTo,\n} from '../../utils'\nimport Button from '../Button'\nimport useDetectDevices from '../../hooks/useDetectDevices'\nimport {\n  getCancellationRoute,\n  getOrderTrackingLineItemsByShipment,\n  getReturnLineItems,\n  getReturnsRoute,\n} from '../../utils/returns'\nimport { getTrackingRoute } from '../../utils/tracking'\nimport CancelOrderSideDrawer from '../CancelOrders/CancelOrderSideDrawer'\nimport EditAddressSideDrawer from './EditShippingAddressWrapper'\nimport { PROVINCE_CODE_MAP } from '../../utils/constants'\n\nconst ACTIVE_MODAL_CANCEL = 'activeModalCancel'\nconst ACTIVE_MODAL_EDIT_ADDRESS = 'activeModalEditAddress'\n\nconst StyledOrders = styled.ul`\n  margin: -9px 0 0;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    width: ${desktopVw(960)};\n    margin: ${desktopVw(45)} ${desktopVw(80)} ${desktopVw(40)} 0;\n  }\n`\n\nconst Header = styled.div`\n  font-size: 10px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(10)};\n    line-height: ${desktopVw(20)};\n  }\n`\n\nconst ShipmentContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 30px;\n  padding-bottom: 30px;\n  border-bottom: 0.5px solid ${props => props.theme.colors.silver};\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-bottom: ${desktopVw(23)};\n    padding-bottom: ${desktopVw(23)};\n  }\n  &:last-child {\n    border-bottom: none;\n    margin-bottom: 0;\n    padding-bottom: 0;\n  }\n`\n\nconst ShipmentSummary = styled.div`\n  margin-bottom: 30px;\n  display: flex;\n  justify-content: space-between;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-bottom: ${desktopVw(23)};\n  }\n`\n\nconst ShipmentNumber = styled(Header)`\n  text-align: right;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-bottom: ${desktopVw(47)};\n  }\n`\n\nconst LineItemContainerTitle = styled.div`\n  color: ${props => props.delivered && props.theme.colors.shamrockGreen};\n  font-size: 15px;\n  font-weight: 500;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(19)};\n  }\n`\n\nconst StyledButton = styled(Button)`\n  font-size: 12px;\n  padding: 0;\n  width: 100%;\n  margin-bottom: 20px;\n  height: 38px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  &:disabled {\n    border: solid 1px ${props => props.theme.colors.greyLight};\n    color: ${props => props.theme.colors.greyLight};\n    cursor: initial;\n\n    &:hover {\n      background: ${props => props.theme.colors.secondary};\n    }\n  }\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    font-size: ${desktopVw(8)};\n    line-height: ${desktopVw(6)};\n    min-width: ${desktopVw(146)};\n    text-transform: uppercase;\n    margin-bottom: ${desktopVw(15)};\n  }\n`\n\nconst LineItemWrapper = styled.div`\n  display: block;\n  margin-bottom: 28px;\n  padding-bottom: 28px;\n  border-bottom: 1px solid #e0e0e0;\n  &:last-child {\n    border-bottom: 0;\n    margin-bottom: 0;\n    padding-bottom: 0;\n  }\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: flex;\n    justify-content: space-between;\n    margin: 0;\n    padding-bottom: 0;\n    border-bottom: none;\n  }\n`\n\nconst UnallocatedContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\n\nconst DesktopBtn = styled.div`\n  display: none;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: block;\n  }\n`\nconst UnallocatedLineItems = styled.div`\n  width: 100%;\n`\n\nconst checkIfCarrierIsHidden = carrier => {\n  return getHiddenCarrierList().indexOf(carrier) > -1\n}\n\nconst OrderTrackingLineItems = ({\n  orderTrackingLineItemsByShipment,\n  order,\n  reviewForm,\n}) => {\n  const { devices } = useDetectDevices()\n\n  return orderTrackingLineItemsByShipment.map((shipment, sIdx) => {\n    const undeliveredShipment =\n      shipment?.statusSummary?.status !== 'order-delivered'\n    const expectedDeliveryDate = shipment?.statusSummary\n      ?.carrierEstimatedDeliveryDate\n      ? dayjs(shipment?.statusSummary?.carrierEstimatedDeliveryDate).format(\n          'MMM D, YYYY',\n        )\n      : null\n    const deliveredDate = shipment?.statusSummary?.deliveryDate\n      ? dayjs(shipment?.statusSummary?.deliveryDate).format('MMM D, YYYY')\n      : null\n\n    const prefixText = undeliveredShipment ? 'Shipped using' : 'Delivered with'\n    const shippedText = checkIfCarrierIsHidden(shipment.carrier) ? (\n      <Header>{prefixText} Quince Logistics</Header>\n    ) : getCarrierDisplayName()[shipment.carrier] ? (\n      <Header>{`${prefixText} ${\n        getCarrierDisplayName()[shipment.carrier]\n      }`}</Header>\n    ) : (\n      <Header>{`${prefixText} ${shipment.carrier}`}</Header>\n    )\n\n    return (\n      <ShipmentContainer key={shipment.shipmentId}>\n        <div style={{ width: '100%' }}>\n          <ShipmentSummary>\n            <div>\n              {shippedText}\n              <LineItemContainerTitle delivered={!undeliveredShipment}>\n                {undeliveredShipment\n                  ? expectedDeliveryDate\n                    ? `Arriving ${expectedDeliveryDate}`\n                    : null\n                  : deliveredDate\n                  ? `Delivered ${deliveredDate}`\n                  : null}\n              </LineItemContainerTitle>\n            </div>\n            {devices.mobile && (\n              <ShipmentNumber>\n                Shipment {sIdx + 1} of {order.shipments.length}\n              </ShipmentNumber>\n            )}\n          </ShipmentSummary>\n          <div>\n            {shipment.lineItems.map(lineItem => (\n              <OrderLineItem\n                key={lineItem.id}\n                lineItem={lineItem}\n                reviewForm={reviewForm}\n                order={order}\n              />\n            ))}\n          </div>\n        </div>\n        {devices.desktop && (\n          <div>\n            <ShipmentNumber>\n              Shipment {sIdx + 1} out of {order.shipments.length}\n            </ShipmentNumber>\n            <StyledButton to={getTrackingRoute(order, shipment)}>\n              Track package\n            </StyledButton>\n            <StyledButton\n              to={`${getReturnsRoute(order)}?stage=0`}\n              state={{ order }}\n            >\n              Return or Replace Items\n            </StyledButton>\n          </div>\n        )}\n      </ShipmentContainer>\n    )\n  })\n}\n\nconst ReturnLineItems = ({\n  returnLineItems,\n  reviewForm,\n  order,\n  title,\n  showTrackReturn = false,\n}) => {\n  const { devices } = useDetectDevices()\n\n  return (\n    <ShipmentContainer>\n      <div style={{ width: '100%' }}>\n        <ShipmentSummary>\n          <div>\n            <LineItemContainerTitle>{title}</LineItemContainerTitle>\n          </div>\n        </ShipmentSummary>\n        <div>\n          {returnLineItems.map(lineItem => {\n            return (\n              <OrderLineItem\n                key={lineItem.id}\n                lineItem={lineItem}\n                reviewForm={reviewForm}\n                order={order}\n              />\n            )\n          })}\n        </div>\n      </div>\n      {devices.desktop && (\n        <div style={{ marginTop: desktopVw(45) }}>\n          {returnLineItems?.[0]?.labelUrl && (\n            <StyledButton href={returnLineItems?.[0]?.labelUrl} target='_blank'>\n              Print Label\n            </StyledButton>\n          )}\n          {returnLineItems?.[0]?.trackingUrl && showTrackReturn && (\n            <StyledButton\n              href={returnLineItems?.[0]?.trackingUrl}\n              target='_blank'\n            >\n              Track Return\n            </StyledButton>\n          )}\n        </div>\n      )}\n    </ShipmentContainer>\n  )\n}\n\nconst Orders = ({\n  orders,\n  reviewForm,\n  reloadPageData,\n  successBannerText,\n  addAddressForm,\n  successBannerOrderNumber,\n  location,\n}) => {\n  const [modalOpen, setModalOpen] = useState(false)\n  const [activeOrder, setActiveOrder] = useState(null)\n  const [activeModal, setActiveModal] = useState('')\n\n  const renderAllocatedLineItems = React.useCallback(\n    order => {\n      const returnLineItems = getReturnLineItems(order)\n      const orderTrackingLineItemsByShipment = getOrderTrackingLineItemsByShipment(\n        order,\n        returnLineItems,\n      )\n      const returnCompletedLineItems = returnLineItems.filter(\n        lineItem => lineItem.status === 'PROCESSED',\n      )\n      const returnStartedLineItems = returnLineItems.filter(\n        lineItem => lineItem.status !== 'PROCESSED',\n      )\n      const returnCompletedLineItemsByReturnId = groupBy(\n        returnCompletedLineItems,\n        'returnId',\n      )\n      const returnStartedLineItemsByReturnId = groupBy(\n        returnStartedLineItems,\n        'returnId',\n      )\n\n      return (\n        <>\n          <OrderTrackingLineItems\n            orderTrackingLineItemsByShipment={orderTrackingLineItemsByShipment}\n            order={order}\n            reviewForm={reviewForm}\n          />\n          {returnStartedLineItems.length > 0 &&\n            Object.keys(returnStartedLineItemsByReturnId).map(returnId => (\n              <ReturnLineItems\n                key={returnId}\n                returnLineItems={returnStartedLineItemsByReturnId[returnId]}\n                reviewForm={reviewForm}\n                order={order}\n                title='Return Started'\n                showTrackReturn\n              />\n            ))}\n          {returnCompletedLineItems.length > 0 &&\n            Object.keys(returnCompletedLineItemsByReturnId).map(returnId => (\n              <ReturnLineItems\n                key={returnId}\n                returnLineItems={returnCompletedLineItemsByReturnId[returnId]}\n                reviewForm={reviewForm}\n                order={order}\n                title='Return Processed'\n              />\n            ))}\n        </>\n      )\n    },\n    [orders],\n  )\n\n  const handleOrdersSuccessBanner = (addressData, updatedOrderId) => {\n    const successHTML = `<div style=\"display: flex;justify-content: space-between;\">\n      <div><b>Shipping address has been updated</b></div>\n      <div>New Shipping information is ${addressData.address1}, ${\n      addressData.city\n    }, ${PROVINCE_CODE_MAP[addressData.province]}, ${addressData.zip}</div>\n      </div>`\n    reloadPageData({ successHTML, orderId: updatedOrderId })\n  }\n\n  const [orderListRef, setOrderListRef] = useState({})\n\n  useEffect(() => {\n    setOrderListRef(() => {\n      return (orders ?? []).reduce((refObj, order) => {\n        const orderNumber = order?.orderNumber\n        return {\n          ...refObj,\n          [orderNumber]: createRef(),\n        }\n      }, {})\n    })\n  }, [orders])\n\n  useEffect(() => {\n    if (location?.state?.orderNumber) {\n      scrollTo(orderListRef?.[location?.state?.orderNumber])\n    }\n  }, [orderListRef, location?.state?.orderNumber])\n\n  return (\n    <StyledOrders>\n      {orders.map(order => (\n        <Order\n          key={order.orderId}\n          {...order}\n          successBannerText={successBannerText}\n          successBannerOrderNumber={successBannerOrderNumber}\n          reviewForm={reviewForm}\n          setActiveOrder={() => {\n            setActiveOrder(order)\n            setModalOpen(true)\n            setActiveModal(ACTIVE_MODAL_CANCEL)\n          }}\n          ref={orderListRef?.[order?.orderNumber]}\n        >\n          {order.shipments &&\n            order.shipments.length > 0 &&\n            renderAllocatedLineItems(order)}\n          {order.unallocatedLineItems && order.unallocatedLineItems.length > 0 && (\n            <UnallocatedContainer>\n              <UnallocatedLineItems>\n                {order.unallocatedLineItems.map(lineItem => (\n                  <OrderLineItem\n                    key={lineItem.id}\n                    lineItem={lineItem}\n                    reviewForm={reviewForm}\n                    order={order}\n                    unallocatedOrder\n                  />\n                ))}\n              </UnallocatedLineItems>\n              <DesktopBtn>\n                <StyledButton\n                  to={`${getCancellationRoute(order)}`}\n                  state={{ order }}\n                >\n                  Cancel Order\n                </StyledButton>\n                {(!order.shipments ||\n                  (Array.isArray(order.shipments) &&\n                    order.shipments.length === 0)) && (\n                  <StyledButton\n                    onClick={() => {\n                      setActiveOrder(order)\n                      setModalOpen(true)\n                      setActiveModal(ACTIVE_MODAL_EDIT_ADDRESS)\n                    }}\n                  >\n                    Edit Address\n                  </StyledButton>\n                )}\n              </DesktopBtn>\n            </UnallocatedContainer>\n          )}\n          {order.cancelledLineItems && order.cancelledLineItems.length > 0 && (\n            <ShipmentContainer style={{ display: 'block' }}>\n              <div>\n                <ShipmentSummary>\n                  <div>\n                    <LineItemContainerTitle style={{ color: '#DB3333' }}>\n                      Canceled Order\n                    </LineItemContainerTitle>\n                  </div>\n                </ShipmentSummary>\n                <div>\n                  {order.cancelledLineItems.map(lineItem => (\n                    <OrderLineItem\n                      key={lineItem.id}\n                      lineItem={lineItem}\n                      reviewForm={reviewForm}\n                      order={order}\n                      cancelledOrder\n                    />\n                  ))}\n                </div>\n              </div>\n            </ShipmentContainer>\n          )}\n        </Order>\n      ))}\n      {modalOpen && activeOrder && activeModal === ACTIVE_MODAL_CANCEL && (\n        <CancelOrderSideDrawer\n          open={modalOpen}\n          closeModal={() => {\n            setModalOpen(false)\n            setActiveOrder(null)\n            setActiveModal('')\n          }}\n          activeOrder={activeOrder}\n          reloadPageData={reloadPageData}\n        />\n      )}\n      {modalOpen && activeOrder && activeModal === ACTIVE_MODAL_EDIT_ADDRESS && (\n        <EditAddressSideDrawer\n          open={modalOpen}\n          closeModal={() => {\n            setModalOpen(false)\n            setActiveOrder(null)\n            setActiveModal('')\n          }}\n          activeOrder={activeOrder}\n          reloadPageData={handleOrdersSuccessBanner}\n          addAddressForm={addAddressForm}\n        />\n      )}\n    </StyledOrders>\n  )\n}\n\nexport default Orders\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { graphql } from 'gatsby'\nimport { navigate } from '@reach/router'\n// Utils\nimport { desktopVw } from '../../styles/utils'\nimport { getCurrentUser, isLoggedIn } from '../../utils/auth'\n\n// Hooks\nimport useFetch from '../../hooks/useFetch'\n\n// Components\nimport AccountWrapper from '../../components/Account/AccountWrapper'\nimport PageHeader from '../../components/Account/PageHeader'\nimport Orders from '../../components/Account/Orders'\nimport SEO from '../../components/SEO'\n\nimport SpinningLoader from '../../components/SpinningLoader'\nimport Button from '../../components/Button'\nimport theme from '../../styles/theme'\n\nconst Container = styled.div`\n  position: relative;\n  padding: 0 20px;\n  min-height: 60px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    padding: ${({ showPadding }) => (showPadding ? desktopVw(73) : 0)};\n  }\n`\n\nconst Error = styled.div`\n  p {\n    margin-bottom: 10px;\n  }\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    p {\n      margin-bottom: ${desktopVw(20)};\n    }\n  }\n`\n\nconst StyledButton = styled(Button)`\n  width: 100%;\n  margin-bottom: 30px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    width: auto;\n    margin-bottom: ${desktopVw(30)};\n  }\n`\n\nconst StyledPageHeader = styled(PageHeader)`\n  margin-bottom: -15px;\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin-bottom: ${desktopVw(-20)};\n    &.noMargin {\n      margin-bottom: 0px;\n    }\n  }\n`\nconst StyledAnchor = styled.a`\n  text-decoration: underline;\n`\n\nconst MyOrdersAndReturns = ({ data, location }) => {\n  const page = data.contentfulAccountPage\n\n  const { fetchData, response, error, loading } = useFetch()\n\n  const { email } = getCurrentUser()\n\n  const [showSuccessBanner, setShowSuccessBanner] = useState(\n    location.state &&\n      location.state.successBannerHtml &&\n      location.state.successBannerHtml.successHTML,\n  )\n  const [successBannerOrder, setSuccessBannerOrder] = useState(\n    location.state && location.state.updatedOrder,\n  )\n\n  const url = `${process.env.GATSBY_ORDERS_API_ENDPOINT}/service/order?emailId=${email}&limit=50`\n\n  const options = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  }\n\n  useEffect(() => {\n    if (!isLoggedIn()) {\n      navigate('/log-in')\n\n      return\n    }\n\n    if (email) fetchData(url, options)\n  }, [])\n\n  useEffect(() => {\n    if (successBannerOrder && response && !loading) {\n      const el = document.getElementById(successBannerOrder)\n      const mq = window.matchMedia(\n        `(max-width: ${theme.breakpoints.desktopSmall}px)`,\n      )\n      const isMobile = mq.matches\n      const headerHeight =\n        (parseFloat(desktopVw(theme.header.desktop.height)) *\n          window.innerWidth) /\n        100\n      window.scrollTo({\n        top:\n          el.getBoundingClientRect().top -\n          10 +\n          window.scrollY -\n          (isMobile ? 59 : headerHeight),\n        behavior: 'auto',\n      })\n    }\n  }, [response])\n\n  const reloadPageData = ({ successMsg, successHTML, orderId }) => {\n    if (email) fetchData(url, options)\n    if (successMsg || successHTML) {\n      setShowSuccessBanner(successMsg || successHTML)\n    }\n    setSuccessBannerOrder(orderId)\n  }\n\n  return (\n    <>\n      <SEO\n        title={page.seoTitle}\n        description={page.seoDescription}\n        slug={page.slug}\n        image={page.metaImage ? page.metaImage.fluid.src : null}\n      />\n      <AccountWrapper\n        heroImage={page.hero}\n        menu={page.menuList}\n        contact={page.contact}\n        activeSlug={page.slug}\n      >\n        <StyledPageHeader\n          title={page.title.title}\n          className={`${\n            !loading && ((response ?? []).length === 0 || error)\n              ? 'noMargin'\n              : ''\n          }`}\n          text={\n            <>\n              <p>Please find here your order history.</p>\n              <p>\n                Contact us at{' '}\n                <StyledAnchor href='mailto:care@onequince.com'>\n                  care@onequince.com\n                </StyledAnchor>{' '}\n                if you have any questions.\n              </p>\n            </>\n          }\n        />\n        <Container\n          showPadding={loading || (response ?? []).length === 0 || error}\n        >\n          {loading && <SpinningLoader />}\n          {!loading && response && response.status !== 500 && (\n            <Orders\n              orders={response}\n              reviewForm={page.reviewForm}\n              reloadPageData={reloadPageData}\n              successBannerText={showSuccessBanner}\n              addAddressForm={page.addAddressForm}\n              successBannerOrderNumber={successBannerOrder}\n              location={location}\n            />\n          )}\n          {!loading && response && response.length === 0 && (\n            <div>No orders to show</div>\n          )}\n          {!loading && error && (\n            <Error>\n              <p>Failed to retrieve orders</p>\n              <StyledButton onClick={() => fetchData(url, options)}>\n                Retry\n              </StyledButton>\n            </Error>\n          )}\n        </Container>\n      </AccountWrapper>\n    </>\n  )\n}\n\nexport default MyOrdersAndReturns\n\nexport const MyOrdersAndReturnsQuery = graphql`\n  query MyOrdersAndReturns($id: String!) {\n    contentfulAccountPage(id: { eq: $id }) {\n      id\n      seoTitle\n      seoDescription\n      slug\n      title {\n        title\n      }\n      pageType\n      hero {\n        fluid(maxWidth: 3840) {\n          ...GatsbyContentfulFluid_withWebp\n        }\n      }\n      menuList {\n        ...Link\n      }\n      text {\n        text\n      }\n      contact {\n        json\n      }\n      reviewForm {\n        title\n        submitButtonText\n        successMessage {\n          json\n        }\n        contentfulfields {\n          ... on ContentfulInput {\n            id\n            name\n            label\n            placeholder\n            type\n            width\n          }\n          ... on ContentfulRadio {\n            id\n            type\n            name\n            label\n            range\n            radioOptions {\n              name\n              value\n            }\n            displayValues\n          }\n          ... on ContentfulSelect {\n            id\n            name\n            label\n            options\n            width\n          }\n        }\n      }\n      addAddressForm {\n        title\n        submitButtonText\n        successMessage {\n          json\n        }\n        contentfulfields {\n          ... on ContentfulInput {\n            id\n            name\n            label\n            placeholder\n            type\n            width\n            required\n          }\n          ... on ContentfulSelect {\n            id\n            name\n            label\n            options\n            width\n          }\n        }\n      }\n    }\n  }\n`\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { desktopVw } from '../../styles/utils'\n\nconst StyledPageHeader = styled.div`\n  padding: 0 20px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    padding: 0;\n    margin-bottom: ${desktopVw(45)};\n  }\n`\n\nconst Title = styled.h1`\n  display: none;\n  margin: 0 0 8px;\n  font-size: 40px;\n  line-height: 45px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    display: block;\n    white-space: pre-wrap;\n    margin: 0 0 ${desktopVw(17)};\n    border-bottom: none;\n    font-family: ${props => props.theme.fonts.heading};\n    font-size: ${desktopVw(40)};\n    line-height: ${desktopVw(45)};\n    font-weight: 500;\n    padding: 0;\n  }\n`\nconst Text = styled.p`\n  margin: 0 0 34px;\n  font-size: 12px;\n  line-height: 20px;\n\n  @media (min-width: ${props => props.theme.breakpoints.desktopSmall}px) {\n    margin: 0;\n    font-size: ${desktopVw(12)};\n    font-weight: normal;\n    line-height: ${desktopVw(20)};\n    width: ${desktopVw(480)};\n  }\n`\n\nconst PageHeader = ({ className, title, text }) => {\n  return (\n    <StyledPageHeader className={className}>\n      <Title>{title}</Title>\n      <Text>{text}</Text>\n    </StyledPageHeader>\n  )\n}\n\nexport default PageHeader\n"],"sourceRoot":""}