(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{BggZ:function(e,t,a){"use strict";a.r(t),a.d(t,"SignUpQuery",(function(){return q}));var n=a("o0o1"),r=a.n(n),i=(a("ls82"),a("HaE+")),l=a("q1tI"),c=a.n(l),o=a("vOnD"),s=a("R8uD"),m=a("v4IS"),u=a("MHX4"),d=a("cr+I"),p=a.n(d),g=a("YwZP"),b=a("ovEV"),h=a("KEQJ"),_=a("tM7j"),E=a("DGXs"),f=a("VTVh"),w=a("5Wrh"),y=a("uuwJ"),x=a("KTwt"),S=a("7Qib"),j=a("ZwGj"),k=a("C6ep"),O=a("Njg9"),v=a("ydnR"),I=o.d.section.withConfig({displayName:"SignUp__StyledSignUp",componentId:"n0h76q-0"})(["@media (min-width:","px){}"],(function(e){return e.theme.breakpoints.desktopSmall})),U=o.d.div.withConfig({displayName:"SignUp__Container",componentId:"n0h76q-1"})(["margin-bottom:20px;@media (min-width:","px){margin-bottom:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(b.b)(20)),P=Object(o.d)(w.a).withConfig({displayName:"SignUp__StyledButton",componentId:"n0h76q-2"})(["display:block;width:100%;font-size:20px;padding:22px;@media (min-width:","px){font-size:",";padding:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(b.b)(20),Object(b.b)(22));o.d.div.withConfig({displayName:"SignUp__ButtonWrapper",componentId:"n0h76q-3"})(["@media (min-width:","px){margin-top:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(b.b)(40));t.default=function(e){var t=e.location,a=e.data.contentfulAuthenticationPage,n=Object(O.a)().loginUser,o=Object(u.a)(),d=o.register,b=o.handleSubmit,w=o.errors,q=Object(l.useState)(0),C=q[0],L=q[1],R=Object(l.useState)(null),A=R[0],B=R[1],D=Object(l.useState)(null),N=D[0],T=D[1],z=Object(l.useState)(!1),M=z[0],H=z[1],J=function(e){if(e){var t=p.a.parse(e).redirecturi;return t||null}return null},Q=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,i,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,i=t.family_name,l=t.username,c=t.password,T(l),e.prev=2,H(!0),e.next=6,m.a.signUp({username:l,password:c,attributes:{name:a,family_name:i,email:l}});case 6:return L(1),y.a.trackClick(x.a.FORM_SUBMIT,{trackInternal:!0,category:"login",action:"account_create",context:{login_email:l,lb_user_id:Object(S.z)(v.a.LB_USER_ID)}}),e.next=10,n(l,c);case 10:H(!1),Object(g.navigate)("/account/my-orders-returns"),e.next=22;break;case 14:e.prev=14,e.t0=e.catch(2),H(!1),e.t0&&"InvalidParameterException"==e.t0.code&&e.t0.message&&e.t0.message.indexOf("password")>-1&&(e.t0.message="Password must be atleast 8 characters in length"),e.t0&&"InvalidPasswordException"==e.t0.code&&e.t0.message&&e.t0.message.indexOf("not long")>-1&&(e.t0.message="Password must be atleast 8 characters in length"),e.t0&&"UsernameExistsException"==e.t0.code&&(e.t0.message='An account with the given email already exists. Please <a href="/log-in" style="text-decoration:underline; font-weight: 500;">Log in</a>.'),B(e.t0),Object(k.b)(e.t0,{username:l},{type:"API_FAILURE",API:"SIGNUP"});case 22:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(I,null,c.a.createElement(h.a,{image:a.image},0===C&&c.a.createElement("form",{onSubmit:b(Q)},c.a.createElement(_.a,null,Object(s.documentToReactComponents)(a.formHeader.json)),A&&c.a.createElement(f.b,{dangerouslySetInnerHTML:{__html:A.message}}),c.a.createElement(U,null,c.a.createElement(f.i,{type:"text",placeholder:"First name",name:"name",required:!0,register:d,errors:w})),c.a.createElement(U,null,c.a.createElement(f.i,{type:"text",placeholder:"Last name",name:"family_name",required:!0,register:d,errors:w})),c.a.createElement(U,null,c.a.createElement(f.i,{type:"email",placeholder:"Email",name:"username",required:!0,register:d,errors:w})),c.a.createElement(U,null,c.a.createElement(f.j,{placeholder:"Password",name:"password",required:!0,register:d,errors:w})),c.a.createElement(U,null,c.a.createElement(P,{black:!0,type:"submit",loading:M},a.buttonText))),1===C&&c.a.createElement(_.a,null,c.a.createElement("h1",null,"Welcome to Quince!"),c.a.createElement("h3",null,"Account successfully created. Logging you in...")),C<1&&c.a.createElement(E.a,null,c.a.createElement("p",null,"Already have an account?"," ",J(t.search)?c.a.createElement(j.a,{to:"/log-in?redirecturi="+J(t.search),trackParams:{trackInternal:!0,category:"login",action:"click_already_have_account",context:{login_email:N||"",lb_user_id:Object(S.z)(v.a.LB_USER_ID)}}},"login"):c.a.createElement(j.a,{to:"/log-in",trackParams:{trackInternal:!0,category:"login",action:"click_already_have_account",context:{login_email:N||"",lb_user_id:Object(S.z)(v.a.LB_USER_ID)}}},"log in")))))};var q="1440934237"}}]);
//# sourceMappingURL=component---src-templates-auth-sign-up-js-00e7c06694c12ea6970c.js.map