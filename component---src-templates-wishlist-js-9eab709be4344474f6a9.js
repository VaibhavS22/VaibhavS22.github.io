(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"RL+i":function(t,e,n){"use strict";var r=n("q1tI"),i=n.n(r),a=n("vOnD"),c=n("ovEV"),o=n("n5Cn"),u=n("d8z1"),s=function(t,e){var n=Object(r.useState)(t),i=n[0],a=n[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){return a(t)}),e);return function(){return clearTimeout(n)}}),[t,e]),i},d=a.d.div.withConfig({displayName:"ProductGrid__StyledProductGrid",componentId:"sc-1jrt9az-0"})(["position:relative;@media (min-width:","px){margin-bottom:",";padding:0 ",";}"],(function(t){return t.theme.breakpoints.desktopSmall}),Object(c.b)(92),Object(c.b)(80)),p=a.d.li.withConfig({displayName:"ProductGrid__ProductItem",componentId:"sc-1jrt9az-1"})(["width:calc(50% - 10px);margin:0 0 25px;padding:0 5px;opacity:1;transform:translateY(0);.product-thumbnail__image-wrapper{height:",";width:100%;}@media (min-width:","px){.product-thumbnail__image-wrapper{height:",";}}@media (min-width:","px){width:calc(25% - (1 / 4 * ","));margin:0 "," "," 0;padding:0;.product-thumbnail{&__image-wrapper{height:",";}}}"],Object(c.e)(212),(function(t){return t.theme.breakpoints.tablet}),Object(c.g)(450),(function(t){return t.theme.breakpoints.desktopSmall}),Object(c.b)(121),Object(c.b)(40),Object(c.b)(43),Object(c.b)(357.4)),l=a.d.ul.withConfig({displayName:"ProductGrid__Products",componentId:"sc-1jrt9az-2"})(["display:flex;flex-flow:wrap;padding:0 5px;","{&:nth-child(5n){width:calc(100% + 10px);margin:0 -5px 18px;padding:0;.product-thumbnail{&__image-wrapper{height:437px;}&__footer{padding:0 10px;}}}}@media (min-width:","px){padding:0;","{&:nth-child(5n){width:calc(25% - (1 / 4 * ","));margin:0 "," "," 0;.product-thumbnail{&__image-wrapper{height:",";}&__footer{padding:0;}}}&:nth-child(4n){margin-right:0;}}}"],p,(function(t){return t.theme.breakpoints.desktopSmall}),p,Object(c.b)(121),Object(c.b)(40),Object(c.b)(43),Object(c.b)(357.4)),m=function(t,e,n){var r=[],i=function(t,e,n,i){t.productImages.filter((function(t){return t.color.name===e})).length>0&&r.push({c:n.find((function(t){return t.name===e})),p:Object.assign({},t),pi:i.filter((function(t){return t.color.name===e}))})};return e&&e.length>0?e.forEach((function(t){var e=t.colors,r=t.product;r.tags=(r.tags||[]).filter((function(t){return![u.a.BACK_IN_STOCK,u.a.LOW_STOCK,u.a.SOLD_OUT].includes(t)})),n?e.forEach((function(t){i(r,t.name,e,r.productImages)})):i(r,e[0].name,e,r.productImages)})):t&&t.length>0&&t.forEach((function(t){if(t){var e=t.color,a=t.colors,c=t.productImages;if(a&&a.length>0)if(t.tags=(t.tags||[]).filter((function(t){return![u.a.BACK_IN_STOCK,u.a.LOW_STOCK,u.a.SOLD_OUT].includes(t)})),e)i(t,e,a,c);else if(n)t.colors.forEach((function(e,n){t.productImages.filter((function(t){return t.color.name===e.name})).length>0&&r.push({c:e,p:Object.assign({},t),pi:t.productImages.filter((function(t){return t.color.name===e.name}))})}));else t.productImages.filter((function(e){return e.color.name===t.colors[0].name})).length>0&&r.push({c:t.colors[0],p:Object.assign({},t),pi:t.productImages.filter((function(e){return e.color.name===t.colors[0].name}))})}})),r};e.a=function(t){var e=t.className,n=t.products,a=t.tracker,c=t.animationDelay,f=t.applyDebounce,h=void 0!==f&&f,b=t.metaProducts,g=t.prefetchColor,O=void 0===g||g,j=Object(r.useState)(m(n,b,O)),_=j[0],v=j[1],w=Object(u.b)().enrichProductsByColorWithInventoryTag;Object(r.useEffect)((function(){n&&0!=n.length&&n[0]&&v(m(n,b,O))}),[n]),Object(r.useEffect)((function(){b&&0!=b.length&&b[0]&&v(m(n,b,O))}),[b]);var y=Object(r.useRef)(!1);return Object(r.useEffect)((function(){if(y.current||!h){if(n&&0!=n.length&&n[0]){var t=m(n,b,O);w(t).then((function(t){v(t)}))}}else y.current=!0}),[s(n,h?1e3:0),s(b,h?1e3:0)]),i.a.createElement(d,{className:e+" product-grid"},i.a.createElement(l,{className:"product-grid__list"},_.map((function(t,e){var n=e%18;return i.a.createElement(p,{key:""+t.p.id+e,className:"product-grid__item",count:n,initialDelay:e<=17?1e3:500,animationDelay:c},i.a.createElement(o.a,{title:t.p.title||t.p.shopifyProduct.title,contentfulProduct:t.p,staticPrice:t.p.shopifyProduct.variants.edges[0].node.price,tracker:a?a+"__"+e:void 0,prefetchedColor:O&&t.c}))}))))}},Xb3c:function(t,e,n){"use strict";n.r(e),n.d(e,"WishlistQuery",(function(){return v}));var r=n("q1tI"),i=n.n(r),a=n("vOnD"),c=n("/MKj"),o=n("ovEV"),u=n("upwP"),s=n.n(u),d=n("EYWl"),p=n("RL+i"),l=n("j+iq"),m=n("nbDP"),f=n("q6Q+"),h=s.a.header.mobile.height+s.a.announcementBar.mobile.height,b=s.a.header.desktop.height+s.a.announcementBar.desktop.height,g=a.d.section.withConfig({displayName:"Wishlist__StyledWishList",componentId:"sc-8ban26-0"})(["min-height:calc(100vh - ","px);@media (min-width:","px){min-height:calc(100vh - ",");}"],h,(function(t){return t.theme.breakpoints.desktopSmall}),Object(o.b)(b)),O=a.d.header.withConfig({displayName:"Wishlist__Header",componentId:"sc-8ban26-1"})(["padding:0 10px;margin:30px 0;@media (min-width:","px){padding:0 ",";margin:"," 0 ",";}"],(function(t){return t.theme.breakpoints.desktopSmall}),Object(o.b)(80),Object(o.b)(63),Object(o.b)(48)),j=a.d.h1.withConfig({displayName:"Wishlist__Title",componentId:"sc-8ban26-2"})(["font-family:",";font-size:80px;line-height:70px;letter-spacing:-2%;text-align:center;text-transform:uppercase;@media (min-width:","px){font-size:",";line-height:",";}"],(function(t){return t.theme.fonts.secondary}),(function(t){return t.theme.breakpoints.desktopSmall}),Object(o.b)(220),Object(o.b)(170)),_=Object(a.d)(l.a).withConfig({displayName:"Wishlist__EmptyWishList",componentId:"sc-8ban26-3"})(["text-align:center;padding:50px 20px 120px;h2{text-transform:uppercase;font-family:",";font-size:18px;line-height:1;font-weight:500;margin:0 0 8px;}p{font-family:",";font-size:11px;line-height:20px;margin:0;}@media (min-width:","px){padding:"," "," ",";h2{font-size:",";margin:0 0 ",";}p{font-size:",";line-height:",";max-width:",";margin:0 auto;}}"],(function(t){return t.theme.fonts.header}),(function(t){return t.theme.fonts.primary}),(function(t){return t.theme.breakpoints.desktopSmall}),Object(o.b)(50),Object(o.b)(200),Object(o.b)(120),Object(o.b)(30),Object(o.b)(25),Object(o.b)(16),Object(o.b)(25),Object(o.b)(470));e.default=function(t){var e=t.data,n=e.contentfulPage,a=e.contentfulPage,o=a.entryTitle,u=a.placeholder,s=e.welcomePopup.nodes.filter((function(t){return"welcomePopup"===t.category}))[0],l=Object(c.c)((function(t){return t.wishlist})),h=l.data,b=l.isFetching,v=Object(r.useState)(!1),w=v[0],y=v[1];return Object(r.useEffect)((function(){var t=h.filter((function(t){return!!t.wishlistId})).length;y(t<=0)}),[h]),i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{title:n.seoTitle,description:n.seoDescription,type:n.pageType,slug:n.slug,image:n.metaImage?n.metaImage.fluid.src:null}),i.a.createElement(m.a,{heading:s.heading,subHeading:s.subHeading,klaviyoListId:s.subscribeForm.klaviyoListId,successMessage:s.subscribeForm.successMessage.json,colorTheme:Math.round(Math.random()),subscriptionType:"email"}),b&&i.a.createElement(f.a,null),!b&&i.a.createElement(g,null,i.a.createElement(O,null,i.a.createElement(j,null,o)),!w&&i.a.createElement(p.a,{products:h}),w&&i.a.createElement(_,{json:u.json})))};var v="1867798412"},d8z1:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("o0o1"),i=n.n(r),a=n("KQm4"),c=(n("ls82"),n("HaE+")),o=n("q1tI"),u=n("7Qib"),s="product",d="variant",p="product_color",l={BACK_IN_STOCK:"Back in stock",LOW_STOCK:"Low Stock",SOLD_OUT:"Sold Out"},m=function(){var t=Object(c.a)(i.a.mark((function t(e,n){var r,c,o,l,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&n&&0!==n.length){t.next=2;break}return t.abrupt("return",{});case 2:r={tagGranularity:e},c=Object(a.a)(new Set(n.map((function(t){return t.productId})))),o=Object(a.a)(new Set(n.map((function(t){return t.variantId})))),l=Object(a.a)(new Set(n.map((function(t){return t.productId+"_"+t.color})))),t.t0=e,t.next=t.t0===s?9:t.t0===d?11:t.t0===p?13:15;break;case 9:return r=Object.assign({},r,{productIds:c.join(",")}),t.abrupt("break",16);case 11:return r=Object.assign({},r,{variantIds:o.join(",")}),t.abrupt("break",16);case 13:return r=Object.assign({},r,{productIdColors:l.join(",")}),t.abrupt("break",16);case 15:return t.abrupt("return",{});case 16:return m="https://iaq0pu77z2.execute-api.us-west-1.amazonaws.com/Production/get-product-inventory-tag"+Object(u.R)(r),t.next=19,fetch(m,{method:"GET"});case 19:return t.abrupt("return",t.sent.json());case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();e.b=function(){var t=Object(o.useState)({}),e=t[0],n=t[1],r=function(){var t=Object(c.a)(i.a.mark((function t(e){var n,r,a,c,o,u,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.tagGranularity,r=e.productList,75,a=[],c=0,o=r.length;c<o;c+=75)u=r.slice(c,c+75),a.push(m(n,u));return s={},t.next=7,Promise.all(a);case 7:return t.sent.forEach((function(t){s=Object.assign(s,t)})),t.abrupt("return",s);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(c.a)(i.a.mark((function t(c){var o,s,d,m,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object(u.zb)(c,(function(t,e){return t.p.id===e.p.id})),s=o.reduce((function(t,e){var n=e.p.colors.map((function(t){return{productId:Object(u.m)(e.p.shopifyProduct.product_id),color:t.name}}));return[].concat(Object(a.a)(t),Object(a.a)(n))}),[]).filter((function(t){return void 0===e[t.productId+"_"+t.color]})),t.next=4,r({tagGranularity:p,productList:s});case 4:return d=t.sent,m=s.reduce((function(t,e){var n,r,i=e.productId+"_"+e.color;return Object.assign({},t,((r={})[i]=null!==(n=d[i])&&void 0!==n?n:null,r))}),{}),n((function(t){return Object.assign({},t,m)})),f={},o.forEach((function(t){var e,n={};t.p.colors.forEach((function(e){var r,i=Object(u.m)(t.p.shopifyProduct.product_id)+"_"+e.name,a=t.p.tags.filter((function(t){return![l.BACK_IN_STOCK,l.LOW_STOCK,l.SOLD_OUT].includes(t)})),c=d[i];c&&a.unshift(c),n=Object.assign({},n,((r={})[e.name]=a,r))})),f=Object.assign({},f,((e={})[t.p.shopifyProduct.product_id]=n,e))})),t.abrupt("return",c.map((function(t){return Object.assign({},t,{p:Object.assign({},t.p,{tags:f[t.p.shopifyProduct.product_id][t.c.name],productTags:f[t.p.shopifyProduct.product_id]})})})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{fetchInventoryTag:r,enrichProductsByColorWithInventoryTag:s}}},"q6Q+":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("q1tI"),i=n.n(r),a=n("vOnD"),c=n("ovEV"),o=a.d.div.withConfig({displayName:"PageLoader__LoadingContainer",componentId:"dnfp37-0"})(["text-align:center;padding:"," 0;@media (min-width:","px){padding:"," 0;}"],Object(c.e)(350),(function(t){return t.theme.breakpoints.desktopSmall}),Object(c.b)(370)),u=Object(a.e)(["0%{transform:rotate(0);}100%{transform:rotate(360deg);}"]),s=a.d.div.withConfig({displayName:"PageLoader__Loader",componentId:"dnfp37-1"})(["height:24px;width:24px;color:",";display:inline-block;position:relative;border:3px solid;border-radius:50%;border-right-color:",";animation:"," 1s linear infinite;@media (min-width:","px){height:",";border-width:",";width:",";}"],(function(t){return t.theme.colors.greyLighter}),(function(t){return t.theme.colors.greyLight}),u,(function(t){return t.theme.breakpoints.desktopSmall}),Object(c.b)(24),Object(c.b)(3),Object(c.b)(24));function d(t){var e=t.className;return i.a.createElement(o,{className:e},i.a.createElement(s,null))}}}]);
//# sourceMappingURL=component---src-templates-wishlist-js-9eab709be4344474f6a9.js.map