(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{EYWl:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("TJpk");t.a=function(e){var t=e.title,n=e.description,a=e.type,i=e.slug,c=e.canonicalUrl,l=e.image,s=(e.noindex,e.nofollow,e.schemaData),u=e.category,m=e.reviewsAndRatings,p=e.price,d=s&&m&&m.reviews.map((function(e){return{"@type":"Review",author:e.author,datePublished:e.dateCreated,description:e.body,reviewRating:{"@type":"Rating",bestRating:"5",ratingValue:""+e.rating,worstRating:"1"}}}));return r.a.createElement(o.Helmet,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("meta",{name:"description",content:n||""}),r.a.createElement("meta",{property:"og:title",content:t||""}),r.a.createElement("meta",{property:"og:type",content:a||""}),r.a.createElement("meta",{property:"og:url",content:"https://www.onequince.com/"+i}),r.a.createElement("meta",{property:"og:image",content:l&&l}),r.a.createElement("link",{rel:"alternate",href:"https://www.onequince.com/"+i,hrefLang:"en-US"}),r.a.createElement("link",{rel:"canonical",href:c||"https://www.onequince.com/"+i}),s&&m&&r.a.createElement("script",{type:"application/ld+json"},'{\n              "@context": "https://schema.org",\n              "@type": "'+a+'",\n              "name": "'+t+'",\n              "description": "'+n+'",\n              "image": "'+l+'",\n              "category": "'+u+'",\n              "brand": "Quince",\n              "offers": {\n                "@type": "Offer",\n                "availability": "http://schema.org/InStock",\n                "price": "'+(p&&p.toFixed(2))+'",\n                "priceCurrency": "USD"\n              },\n              "aggregateRating": {\n                "@type" : "AggregateRating",\n                "ratingValue": "'+m.averageRating+'",\n                "reviewCount": "'+m.count+'"\n              },\n              "review": '+JSON.stringify(d)+"\n            }"),s&&!m&&r.a.createElement("script",{type:"application/ld+json"},'{\n              "@context": "https://schema.org",\n              "@type": "'+a+'",\n              "name": "'+t+'",\n              "description": "'+n+'",\n              "image": "'+l+'",\n              "category": "'+u+'",\n              "brand": "Quince",\n              "offers": {\n                "@type": "Offer",\n                "availability": "http://schema.org/InStock",\n                "price": "'+(p&&p.toFixed(2))+'",\n                "priceCurrency": "USD"\n              }\n            }'))}},NDkG:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginQuery",(function(){return N}));var a=n("o0o1"),r=n.n(a),o=(n("ls82"),n("HaE+")),i=n("q1tI"),c=n.n(i),l=n("vOnD"),s=(n("Wbzz"),n("R8uD")),u=n("YwZP"),m=n("v4IS"),p=n("MHX4"),d=n("cr+I"),g=n.n(d),f=(n("/MKj"),n("s+5j"),n("ovEV")),b=n("6Ox+"),h=n("X4fA"),y=(n("Eqht"),n("pIFz")),E=n("KEQJ"),w=n("tM7j"),_=n("DGXs"),k=n("VTVh"),v=n("5Wrh"),x=n("uuwJ"),O=n("KTwt"),j=n("7Qib"),I=n("EYWl"),S=n("ZwGj"),R=n("/6uU"),U=n("C6ep"),C=n("Njg9"),L=n("ydnR"),P=n("B7OJ"),D=m.a.configure();m.a.configure(Object.assign({},D,{authenticationFlowType:"USER_PASSWORD_AUTH"}));var T=l.d.div.withConfig({displayName:"LogIn__Container",componentId:"sc-12n6v6c-0"})(["margin-bottom:20px;@media (min-width:","px){margin-bottom:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(f.b)(20)),A=Object(l.d)(v.a).withConfig({displayName:"LogIn__StyledButton",componentId:"sc-12n6v6c-1"})(["display:block;width:100%;background-color:",";color:",";font-size:20px;padding:22px;@media (min-width:","px){font-size:",";padding:",";}"],(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(f.b)(20),Object(f.b)(22)),z=Object(l.d)(v.a).withConfig({displayName:"LogIn__UnVerifiedMessage",componentId:"sc-12n6v6c-2"})(["font-family:",";text-align:",";text-transform:uppercase;text-decoration:underline;font-size:11px;margin:10px 0 0;margin-bottom:0 !important;border:none;padding:0px;transition:none;&:hover{background:inherit;border-color:inherit;color:inherit;}@media (min-width:","px){margin:"," 0 0;font-size:",";}"],(function(e){return e.theme.fonts.primary}),(function(e){return e.alignCenter?"center":null}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(f.b)(10),Object(f.b)(11));Object(b.c)("customerAccessToken");t.default=function(e){var t=e.location,n=e.data,a=function(e){if(e){var t=g.a.parse(e).redirecturi;return t||null}return null},l=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}if(!(t||"").includes("checkout.onequince.com")){e.next=8;break}return e.next=4,Object(y.a)(t);case 4:n=e.sent,window.location.href=n||t,e.next=9;break;case 8:window.location.href=t;case 9:e.next=12;break;case 11:Object(u.navigate)("/account/my-orders-returns");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){Object(h.b)()&&l(a(t.search))}),[]);var d=n.contentfulAuthenticationPage,f=Object(p.a)(),b=f.register,v=f.handleSubmit,D=f.errors,N=Object(C.a)().loginUser,F=Object(i.useState)(),q=F[0],B=F[1],V=Object(i.useState)(!1),M=V[0],H=V[1],J=Object(i.useState)(!1),W=J[0],Q=J[1],G=Object(i.useState)(!1),K=G[0],X=G[1],Y=Object(i.useState)(),Z=Y[0],$=Y[1],ee=Object(P.a)().fetchUserWishlist,te=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.resendSignUp(t);case 3:x.a.trackClick(O.a.BUTTON_CLICK,{trackInternal:!0,category:"login",action:"resend_verification",context:{login_email:t,lb_user_id:Object(j.z)(L.a.LB_USER_ID)}}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(U.b)(e.t0,{email:t},{type:"API_FAILURE",API:"RESEND_VERIFICATION_EMAIL"});case 9:H(!1),Q(!0),setTimeout((function(){return Q(!1)}),1e4);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(o.a)(r.a.mark((function e(n){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(""),X(!0),o=n.username,i=n.password,$(o),e.prev=4,e.next=7,N(o,i);case 7:x.a.trackClick(O.a.FORM_SUBMIT,{trackInternal:!0,category:"login",action:"account_login",context:{login_email:o,lb_user_id:Object(j.z)(L.a.LB_USER_ID)}}),X(!1),l(a(t.search)),ee(o,!0),e.next=19;break;case 13:if(e.prev=13,e.t0=e.catch(4),X(!1),Object(U.b)(e.t0,{data:n},{type:"API_FAILURE",API:"LOGIN"}),e.t0&&"UserNotFoundException"==e.t0.code)e.t0.message='Hmm. We don\'t have that email on record. <br/> Please verify your email or <a href="/sign-up" style="text-decoration:underline;font-weight: 500">sign up</a> if your account does not exist.';else if(e.t0&&"UserNotConfirmedException"==e.t0.code)try{H(!0),e.t0.message="Looks like your account is not verified. Please check your inbox for a verification link to complete the registration."}catch(r){r.message="User email not confirmed. Could not resend verification email.",Object(U.b)("User email not confirmed. Could not resend verification email "+o)}else e.t0&&"InternalErrorException"==e.t0.code?e.t0.message="Something went wrong. Please try logging in after some time.":e.t0&&"PasswordResetRequiredException"==e.t0.code&&(e.t0.message="Unable to login. Please reset your password.");B(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(I.a,{title:d.seoTitle,description:d.seoDescripton,slug:d.slug,image:d.metaImage?d.metaImage.fluid.src:null}),c.a.createElement(E.a,{image:d.image},c.a.createElement("form",{onSubmit:v(ne),id:"login-form",noValidate:!0},c.a.createElement(w.a,null,Object(s.documentToReactComponents)(d.formHeader.json)),q&&c.a.createElement(k.b,{dangerouslySetInnerHTML:{__html:q.message}}),M&&c.a.createElement(R.a,null,"cannot find verification mail?"," ",c.a.createElement(z,{onClick:function(){return te(Z)},trackParams:{trackInternal:!0,category:"login",action:"account_login_unverified",context:{login_email:Z||"",lb_user_id:Object(j.z)(L.a.LB_USER_ID)}}},"resend one")),W&&c.a.createElement(R.a,null,"Verification E-mail Sent!"),c.a.createElement(T,null,c.a.createElement(k.i,{type:"email",name:"username",placeholder:"Email address",register:b,required:!0,errors:D})),c.a.createElement(T,null,c.a.createElement(k.j,{placeholder:"Password",name:"password",showForgotPassword:!0,required:!0,register:b,errors:D,username:Z,backToLogin:function(){B("")}})),c.a.createElement(T,null,c.a.createElement(A,{type:"submit",loading:K,form:"login-form"},d.buttonText)),c.a.createElement(_.a,null,c.a.createElement("p",null,"Don't have an account?"," ",a(t.search)?c.a.createElement(S.a,{to:"/sign-up?redirecturi="+a(t.search),trackParams:{trackInternal:!0,category:"login",action:"click_create_account",context:{login_email:Z||"",lb_user_id:Object(j.z)(L.a.LB_USER_ID)}}},"create one"):c.a.createElement(S.a,{to:"/sign-up",trackParams:{trackInternal:!0,category:"login",action:"click_create_account",context:{login_email:Z||"",lb_user_id:Object(j.z)(L.a.LB_USER_ID)}}},"create one"))))))};var N="3471040066"}}]);
//# sourceMappingURL=component---src-templates-auth-log-in-js-692d179b1681b39560dc.js.map