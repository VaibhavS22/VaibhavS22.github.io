(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{DGXs:function(e,t,n){"use strict";var a=n("vOnD"),r=n("ovEV"),i=a.d.div.withConfig({displayName:"FormFooter",componentId:"sc-131259g-0"})(["margin:0 0 25px;p{text-align:center;text-transform:uppercase;font-size:12px;line-height:33px;}a{text-decoration:underline;letter-spacing:1.8px;}@media (min-width:","px){margin:0;p{font-size:",";line-height:",";margin-top:",";}a{letter-spacing:0;}}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(r.b)(12),Object(r.b)(24),Object(r.b)(14));t.a=i},EYWl:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("TJpk");t.a=function(e){var t=e.title,n=e.description,a=e.type,o=e.slug,c=e.canonicalUrl,l=e.image,s=(e.noindex,e.nofollow,e.schemaData),m=e.category,d=e.reviewsAndRatings,p=e.price,u=s&&d&&d.reviews.map((function(e){return{"@type":"Review",author:e.author,datePublished:e.dateCreated,description:e.body,reviewRating:{"@type":"Rating",bestRating:"5",ratingValue:""+e.rating,worstRating:"1"}}}));return r.a.createElement(i.Helmet,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("meta",{name:"description",content:n||""}),r.a.createElement("meta",{property:"og:title",content:t||""}),r.a.createElement("meta",{property:"og:type",content:a||""}),r.a.createElement("meta",{property:"og:url",content:"https://www.onequince.com/"+o}),r.a.createElement("meta",{property:"og:image",content:l&&l}),r.a.createElement("link",{rel:"alternate",href:"https://www.onequince.com/"+o,hrefLang:"en-US"}),r.a.createElement("link",{rel:"canonical",href:c||"https://www.onequince.com/"+o}),s&&d&&r.a.createElement("script",{type:"application/ld+json"},'{\n              "@context": "https://schema.org",\n              "@type": "'+a+'",\n              "name": "'+t+'",\n              "description": "'+n+'",\n              "image": "'+l+'",\n              "category": "'+m+'",\n              "brand": "Quince",\n              "offers": {\n                "@type": "Offer",\n                "availability": "http://schema.org/InStock",\n                "price": "'+(p&&p.toFixed(2))+'",\n                "priceCurrency": "USD"\n              },\n              "aggregateRating": {\n                "@type" : "AggregateRating",\n                "ratingValue": "'+d.averageRating+'",\n                "reviewCount": "'+d.count+'"\n              },\n              "review": '+JSON.stringify(u)+"\n            }"),s&&!d&&r.a.createElement("script",{type:"application/ld+json"},'{\n              "@context": "https://schema.org",\n              "@type": "'+a+'",\n              "name": "'+t+'",\n              "description": "'+n+'",\n              "image": "'+l+'",\n              "category": "'+m+'",\n              "brand": "Quince",\n              "offers": {\n                "@type": "Offer",\n                "availability": "http://schema.org/InStock",\n                "price": "'+(p&&p.toFixed(2))+'",\n                "priceCurrency": "USD"\n              }\n            }'))}},Eqht:function(e,t,n){"use strict";var a=n("o0o1"),r=n.n(a),i=(n("ls82"),n("HaE+")),o=n("v4IS"),c=n("MUpH"),l=n("VX74");function s(){var e=Object(c.a)(["\n  mutation customerAccessTokenCreateWithMultipass($multipassToken: String!) {\n    customerAccessTokenCreateWithMultipass(multipassToken: $multipassToken) {\n      customerAccessToken {\n        accessToken\n        expiresAt\n      }\n      customerUserErrors {\n        code\n        field\n        message\n      }\n    }\n  }\n"]);return s=function(){return e},e}var m=Object(l.gql)(s()),d=function(e,t){return e.mutate({mutation:m,variables:t})},p=n("7Qib"),u=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,c,l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.a.user){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Object(p.db)();case 4:return n=e.sent,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization",n.idToken.jwtToken),e.next=10,fetch("https://0cw6yaidhb.execute-api.ap-south-1.amazonaws.com/dev",{method:"GET",headers:a});case 10:return i=e.sent,e.next=13,i.json();case 13:return c=e.sent,e.next=16,d(t,{multipassToken:c});case 16:return l=e.sent,s=l.data.customerAccessTokenCreateWithMultipass.customerAccessToken,e.abrupt("return",s);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a=u},ITbZ:function(e,t,n){"use strict";n.r(t),n.d(t,"ReferAndEarnQuery",(function(){return G}));var a=n("q1tI"),r=n.n(a),i=n("vOnD"),o=n("R8uD"),c=n("ovEV"),l=n("7Qib"),s=n("1qly"),m=n("zE20"),d=n("W7My"),p=n("VTVh"),u=n("KEQJ"),f=n("tM7j"),h=n("DGXs"),b=function(e){return r.a.createElement("svg",Object.assign({width:9,height:18,viewBox:"0 0 9 18",fill:"none"},e),r.a.createElement("path",{d:"M2.297 18V9.554H0V6.513h2.297V3.915C2.297 1.875 3.655 0 6.782 0c1.266 0 2.202.118 2.202.118l-.074 2.84s-.954-.01-1.996-.01c-1.128 0-1.309.506-1.309 1.344v2.22H9l-.148 3.042H5.605V18H2.297z",fill:"#000"}))},g=function(e){return r.a.createElement("svg",Object.assign({width:18,height:18,viewBox:"0 0 18 18",fill:"none"},e),r.a.createElement("path",{d:"M9.02.281C4.095.281.28 3.88.28 8.74c0 2.542 1.045 4.738 2.745 6.255.293.264.233.417.283 2.048a.7.7 0 00.98.617c1.86-.819 1.884-.883 2.2-.798 5.388 1.483 11.23-1.965 11.23-8.122 0-4.86-3.776-8.458-8.7-8.458zm5.246 6.509L11.7 10.853a1.315 1.315 0 01-1.896.349L7.762 9.674a.527.527 0 00-.632 0l-2.756 2.09c-.367.278-.849-.162-.601-.552L6.339 7.15A1.313 1.313 0 018.235 6.8l2.04 1.528a.527.527 0 00.634 0l2.756-2.087c.367-.281.849.16.601.549z",fill:"#000"}))},x=function(e){return r.a.createElement("svg",Object.assign({width:22,height:22,viewBox:"0 0 22 22",fill:"none"},e),r.a.createElement("path",{d:"M19.937 5.463a7.346 7.346 0 01-2.11.568 3.654 3.654 0 001.612-2.02 7.232 7.232 0 01-2.325.885 3.654 3.654 0 00-2.677-1.158 3.663 3.663 0 00-3.663 3.666c0 .283.035.567.09.84a10.411 10.411 0 01-7.553-3.835c-.329.56-.5 1.2-.499 1.85 0 1.271.647 2.393 1.633 3.052a3.695 3.695 0 01-1.656-.466v.045a3.664 3.664 0 002.937 3.597c-.316.082-.64.123-.965.124-.239 0-.464-.023-.692-.056a3.67 3.67 0 003.425 2.542 7.343 7.343 0 01-4.549 1.566c-.307 0-.59-.01-.885-.045a10.374 10.374 0 005.627 1.644c6.737 0 10.424-5.582 10.424-10.427 0-.159 0-.318-.01-.477a7.89 7.89 0 001.836-1.895z",fill:"#000"}))},y=function(e){return a.createElement("svg",Object.assign({width:18,height:18,viewBox:"0 0 18 18",fill:"none"},e),a.createElement("path",{d:"M7.073 13.222l-.729.725a1.633 1.633 0 01-2.29 0 1.587 1.587 0 010-2.254l2.682-2.66c.555-.551 1.6-1.363 2.363-.607a.893.893 0 101.257-1.266c-1.294-1.285-3.21-1.048-4.877.607l-2.682 2.66A3.347 3.347 0 001.8 12.82a3.348 3.348 0 00.997 2.392A3.402 3.402 0 005.2 16.2c.87 0 1.74-.329 2.402-.987l.73-.724a.89.89 0 00-.625-1.523.895.895 0 00-.633.257zm8.129-10.335c-1.392-1.38-3.338-1.456-4.625-.178l-.908.902a.892.892 0 101.256 1.266l.91-.901c.665-.663 1.539-.388 2.11.177a1.581 1.581 0 010 2.253l-2.861 2.838c-1.31 1.297-1.923.69-2.185.43a.892.892 0 10-1.256 1.265c.601.596 1.287.891 2.005.891.88 0 1.809-.443 2.694-1.32l2.862-2.838A3.358 3.358 0 0016.2 5.28a3.353 3.353 0 00-.998-2.393z",fill:"#000"}))},j=i.d.div.withConfig({displayName:"ReferralLink__StyledReferralLink",componentId:"sc-2dtaql-0"})(["text-align:center;"]),v=Object(i.e)(["0%{transform:rotate(0);}100%{transform:rotate(360deg);}"]),w=i.d.p.withConfig({displayName:"ReferralLink__Info",componentId:"sc-2dtaql-1"})(["margin:0 0 13px;font-size:16px;line-height:25px;text-align:center;@media (min-width:","px){margin:0 0 ",";font-size:",";line-height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(24),Object(c.b)(16),Object(c.b)(25)),O=Object(i.d)(b).withConfig({displayName:"ReferralLink__FacebookIcon",componentId:"sc-2dtaql-2"})(["@media (min-width:","px){width:",";height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(9),Object(c.b)(18)),E=Object(i.d)(g).withConfig({displayName:"ReferralLink__MessengerIcon",componentId:"sc-2dtaql-3"})(["@media (min-width:","px){width:",";height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(18),Object(c.b)(18)),k=Object(i.d)(x).withConfig({displayName:"ReferralLink__TwitterIcon",componentId:"sc-2dtaql-4"})(["@media (min-width:","px){width:",";height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(22),Object(c.b)(22)),_=Object(i.d)(y).withConfig({displayName:"ReferralLink__CopyIcon",componentId:"sc-2dtaql-5"})(["@media (min-width:","px){width:",";height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(18),Object(c.b)(18)),S=i.d.div.withConfig({displayName:"ReferralLink__SocialWrapper",componentId:"sc-2dtaql-6"})(["display:flex;align-items:center;justify-content:center;height:22px;margin:0 auto 15px;@media (min-width:","px){height:",";margin:0 auto ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(22),Object(c.b)(31)),C=i.d.a.withConfig({displayName:"ReferralLink__Anchor",componentId:"sc-2dtaql-7"})(["margin-right:27px;cursor:pointer;&:last-child{margin-right:0;}@media (min-width:","px){margin-right:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),(function(e){return e.lessMargin?Object(c.b)(10):Object(c.b)(16)})),I=i.d.textarea.withConfig({displayName:"ReferralLink__Hidden",componentId:"sc-2dtaql-8"})(["position:absolute;font-size:0;opacity:0;line-height:0;height:0;width:0;"]),T=i.d.div.withConfig({displayName:"ReferralLink__Loader",componentId:"sc-2dtaql-9"})(["height:24px;width:24px;color:",";display:inline-block;position:relative;border:3px solid;border-radius:50%;border-right-color:",";animation:"," 1s linear infinite;@media (min-width:","px){height:",";border-width:",";width:",";}"],(function(e){return e.theme.colors.greyLighter}),(function(e){return e.theme.colors.greyLight}),v,(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(24),Object(c.b)(3),Object(c.b)(24)),R=function(e){var t=e.referralLink,n=e.loading,i=Object(a.useRef)();return r.a.createElement(j,null,r.a.createElement(w,null,"Paste your link anywhere"),n?r.a.createElement(T,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.e,{value:t}),r.a.createElement(S,null,r.a.createElement(C,{href:"javascript:void(0)",className:"swell-share-referral-facebook"},r.a.createElement(O,null)),r.a.createElement(C,{href:"javascript:void(0)",className:"swell-share-referral-messenger"},r.a.createElement(E,null)),r.a.createElement(C,{href:"javascript:void(0)",className:"swell-share-referral-twitter",lessMargin:!0},r.a.createElement(k,null)),r.a.createElement(C,{onClick:function(){return i.current.select(),void document.execCommand("copy")}},r.a.createElement(_,null))),r.a.createElement(I,{value:t,ref:i})))},A=n("5Wrh"),N=n("qiuz"),z=i.d.form.withConfig({displayName:"Success__Form",componentId:"sc-1ymxjs9-0"})(["margin-bottom:42px;@media (min-width:","px){margin-bottom:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(44)),q=Object(i.d)(A.a).withConfig({displayName:"Success__StyledButton",componentId:"sc-1ymxjs9-1"})(["display:block;width:100%;font-size:20px;padding:22px;@media (min-width:","px){font-size:",";padding:"," ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(20),Object(c.b)(22),Object(c.b)(50)),L=Object(i.d)(A.a).withConfig({displayName:"Success__ActivateAccount",componentId:"sc-1ymxjs9-2"})(["padding:22px;margin-bottom:30px;@media (min-width:","px){margin-bottom:",";padding:"," ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(30),Object(c.b)(11),Object(c.b)(50)),M=i.d.div.withConfig({displayName:"Success__ReferralPointsContainer",componentId:"sc-1ymxjs9-3"})([""]),W=i.d.div.withConfig({displayName:"Success__ReferralPointsWrapper",componentId:"sc-1ymxjs9-4"})(["margin-bottom:36px;border-top:",";padding-top:",";@media (min-width:","px){margin-bottom:",";padding-top:",";}"],(function(e){var t=e.isLast,n=e.theme;return t&&"1px solid "+n.colors.greyLight}),(function(e){return e.isLast&&"17px"}),(function(e){return e.theme.breakpoints.desktopSmall}),(function(e){return e.isLast?Object(c.b)(67):Object(c.b)(39)}),(function(e){return e.isLast&&Object(c.b)(20)})),D=function(e){var t,n=e.handleSubmit,a=e.handleChange,i=e.referralCode,o=e.targetEmail,c=e.successfulReferrals,s=e.invitedReferrals,m=e.submitButtonText,d=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{onSubmit:n},r.a.createElement(f.a,null,r.a.createElement("h1",null,r.a.createElement("i",null,"Thanks for referring! remind your friends to check their email"))),r.a.createElement(p.d,null,r.a.createElement(p.i,((t={type:"text",name:"targetEmail",required:!0,value:o,placeholder:"Your friend’s email (separated by commas)",onChange:a}).required=!0,t))),r.a.createElement(p.d,null,r.a.createElement(q,{type:"submit",black:!0,loading:d},m)),r.a.createElement(p.e,{value:"http://rwrd.io/"+(i&&"null"!==i?i:"")})),r.a.createElement(M,null,r.a.createElement(W,null,r.a.createElement(N.a,{title:"Successfully referred friends",referrals:c&&c,totalText:"Total earned points",noReferralsMsg:"No successful referrals yet"})),!Object(l.lb)()&&r.a.createElement(L,{black:!0,to:"/sign-up",trackParams:{trackInternal:!0,trackGA:!0,category:"referral",action:"activate_account"}},"Activate your account to access rewards"),r.a.createElement(W,{isLast:!0},r.a.createElement(N.a,{title:"Your referrals",referrals:s&&s,totalText:"Total potential points",noReferralsMsg:"No referrals yet"}))))},P=n("EYWl"),F=n("uuwJ"),V=n("KTwt"),H=n("C6ep");function B(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var J=i.d.div.withConfig({displayName:"ReferAndEarn__StyledReferAndEarn",componentId:"d2ndxz-0"})(["@media (min-width:","px){.authwrapper__form-wrapper{margin-top:",";}.authwrapper__form-container{height:unset;min-height:",";}.authwrapper__image-wrapper{height:auto;}}"],(function(e){return e.theme.breakpoints.desktopSmall}),(function(e){return e.reduceMarginTop?Object(c.b)(40):null}),(function(e){var t=e.theme;return"calc(100vh - "+Object(c.b)(t.announcementBar.desktop.height+t.header.desktop.height)+")"})),Q=Object(i.d)(p.i).withConfig({displayName:"ReferAndEarn__StyledInput",componentId:"d2ndxz-1"})(["padding:22px 20px 19px 13.25px;@media (min-width:","px){padding:"," "," "," ",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(21),Object(c.b)(20),Object(c.b)(19),Object(c.b)(13.25)),Y=Object(i.d)(h.a).withConfig({displayName:"ReferAndEarn__StyledFormFooter",componentId:"d2ndxz-2"})(["margin:0 0 40px;p{text-align:left;font-size:11px;line-height:20px;}@media (min-width:","px){margin:0 0 ",";p{font-size:",";line-height:",";}}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(20),Object(c.b)(11),Object(c.b)(20)),$=Object(i.d)(A.a).withConfig({displayName:"ReferAndEarn__StyledButton",componentId:"d2ndxz-3"})(["display:block;width:100%;font-size:20px;padding:22px;@media (min-width:","px){font-size:",";padding:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(c.b)(20),Object(c.b)(22)),G=(t.default=function(e){var t=e.data.contentfulAuthenticationPage,n=Object(a.useState)(0),i=n[0],c=n[1],h=Object(a.useState)({}),b=h[0],g=h[1],x=Object(a.useState)(""),y=x[0],j=x[1],v=Object(s.a)(),w=v.response,O=v.fetchData,E=v.loading,k=Object(l.A)().email,_=Object(m.a)().customer;Object(a.useEffect)((function(){k&&g({sourceEmail:k,referralLink:""})}),[k]),Object(a.useEffect)((function(){(null==b?void 0:b.sourceEmail)&&_&&O("https://loyalty.yotpo.com/api/v1/customer_details?customer_email="+(null==b?void 0:b.sourceEmail)+"&customer_external_id="+Object(l.m)(_.id)+"&merchant_id=53933")}),[null==b?void 0:b.sourceEmail,_]);var S=function(e){var t;j("");var n=e.target.name,a=e.target.value;g(Object.assign({},b,((t={})[n]=a,t.referralLink="",t)))},C=Object(s.a)(),I=C.fetchData,T=C.response,A=C.error,N=C.loading,z=function(e){e.preventDefault();var t=b.sourceEmail,n=b.targetEmail;if(Object(l.Ab)(t))if(n){for(var a,r=n.split(","),i=B(r);!(a=i()).done;){var o=a.value;if(!Object(l.Ab)(o.trim()))return void j(o+" is not a valid email address")}if(!N){var c=Object.assign({},b,{targetEmail:r}),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)};I("https://api.onequince.com/referralEmails/sendEmailToReferred",s),F.a.track(V.a.SEND_REFERRAL_EMAIL_INVITE,{email:t,targetEmail:n}),F.a.trackClick(V.a.FORM_SUBMIT,{trackGA:!0,trackInternal:!0,category:"referral",action:"send_invite"})}}else j("Please enter at least one Email");else j("Please enter a valid email address")},q=Object(a.useState)(""),L=q[0],M=q[1],W=Object(d.a)(b.sourceEmail),U=W.fetchReferrals,G=W.successfulReferrals,X=W.invitedReferrals;return Object(a.useEffect)((function(){(T||A)&&(T&&T.code?(M(T.code),g(Object.assign({},b,{targetEmail:""})),c(1),U()):T&&T.error?(j("An error occurred while referring your friends."),Object(H.a)("Error in sending referral email. Server responded with error: "+T.error+" and message: "+T.message+". Sent by : "+b.sourceEmail+" & Sent to: "+b.targetEmail+".")):A?(j("An error occurred while referring your friends."),Object(H.a)("Error in sending referral email. There was an error : "+A+" in sending referrals. Sent by : "+b.sourceEmail+" & Sent to: "+b.targetEmail)):T&&!T.code&&Object(H.a)("Error in sending referral email. Empty response code. Sent by : "+b.sourceEmail+" & Sent to: "+b.targetEmail))}),[T,A]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{title:t.seoTitle,description:t.seoDescripton,slug:t.slug,image:t.metaImage?t.metaImage.fluid.src:null}),r.a.createElement(J,{reduceMarginTop:Object(l.lb)()},r.a.createElement(u.a,{image:t.image,largeImage:!0,imageText:t.imageText.imageText,stage:i},0===i&&r.a.createElement("form",{onSubmit:z},r.a.createElement(f.a,{marginTop:Object(l.lb)()},Object(o.documentToReactComponents)(t.formHeader.json)),r.a.createElement(p.d,null,r.a.createElement(Q,{type:"email",placeholder:"Email address",name:"sourceEmail",onChange:S,defaultValue:k,readOnly:Object(l.lb)()})),r.a.createElement(p.d,null,r.a.createElement(Q,{type:"text",name:"targetEmail",placeholder:"Your friend’s email (separated by commas)",onChange:S})),r.a.createElement(p.d,null,r.a.createElement($,{black:!0,type:"submit",loading:N},t.buttonText),y&&r.a.createElement(p.g,null,y)),Object(l.lb)()&&r.a.createElement(R,{referralLink:"http://rwrd.io/"+(null==w?void 0:w.referral_code),loading:E}),r.a.createElement(Y,null,Object(o.documentToReactComponents)(t.formFooter.json))),1===i&&r.a.createElement(D,{handleSubmit:z,targetEmail:b.targetEmail,referralCode:L,handleChange:S,successfulReferrals:G,invitedReferrals:X,submitButtonText:t.buttonText,loading:N}))))},"3820879493")},KEQJ:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("vOnD"),o=n("ovEV"),c=n("fWfQ"),l=i.d.section.withConfig({displayName:"AuthWrapper__StyledAuthWrapper",componentId:"sc-1e9xmc7-0"})(["display:flex;flex-direction:column;@media (min-width:","px){flex-direction:row;}"],(function(e){return e.theme.breakpoints.desktopSmall})),s=i.d.div.withConfig({displayName:"AuthWrapper__ImageWrapper",componentId:"sc-1e9xmc7-1"})(["position:relative;box-sizing:border-box;height:",";flex-shrink:0;@media (min-width:","px){top:0;width:",";height:",";margin:0;margin-top:-",";}"],(function(e){return e.largeImage?"587px":"310px"}),(function(e){return e.theme.breakpoints.desktopSmall}),(function(e){return e.largeImage?Object(o.b)(880):"50%"}),(function(e){return"calc(100vh - "+Object(o.b)(e.theme.announcementBar.desktop.height)+")"}),(function(e){return Object(o.b)(e.theme.header.desktop.height)})),m=i.d.div.withConfig({displayName:"AuthWrapper__ImageTextWrapper",componentId:"sc-1e9xmc7-2"})(["text-align:center;justify-self:center;"]),d=i.d.div.withConfig({displayName:"AuthWrapper__ImageText",componentId:"sc-1e9xmc7-3"})(["white-space:pre-wrap;text-transform:uppercase;color:",";font-family:",";position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;top:50%;transform:translateY(-50%);font-size:80px;line-height:70px;letter-spacing:-2px;@media (min-width:","px){font-size:",";line-height:",";letter-spacing:-",";}"],(function(e){return e.theme.colors.red}),(function(e){return e.theme.fonts.secondary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(o.b)(200),Object(o.b)(169),Object(o.b)(2)),p=i.d.div.withConfig({displayName:"AuthWrapper__ImageTextAlt",componentId:"sc-1e9xmc7-4"})(["position:absolute;top:124px;left:20px;right:20px;bottom:0;font-size:80px;letter-spacing:-2px;text-transform:uppercase;color:",";font-family:",";div{margin-bottom:15px;text-align:left;&:nth-child(2){text-align:right;}&:nth-child(3){margin-left:20px;}}@media (min-width:","px){top:50%;transform:translateY(-50%);left:",";right:",";font-size:",";letter-spacing:-",";div{margin-bottom:",";&:nth-child(3){margin-top:-",";margin-left:",";}}}"],(function(e){return e.theme.colors.red}),(function(e){return e.theme.fonts.secondary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(o.b)(80),Object(o.b)(200),Object(o.b)(130),Object(o.b)(2),Object(o.b)(20),Object(o.b)(10),Object(o.b)(40)),u=i.d.div.withConfig({displayName:"AuthWrapper__FormContainer",componentId:"sc-1e9xmc7-5"})(["padding:0 20px;align-self:center;position:relative;@media (min-width:","px){display:flex;flex-direction:column;justify-content:center;width:",";margin:auto;padding:0 ",";height:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(o.b)(400),Object(o.b)(80),(function(e){var t=e.theme;return"calc(100vh - "+Object(o.b)(t.announcementBar.desktop.height+t.header.desktop.height)+")"})),f=i.d.div.withConfig({displayName:"AuthWrapper__FormWrapper",componentId:"sc-1e9xmc7-6"})(["margin:18px 0 0;@media (min-width:","px){margin:0;overflow-y:scroll;&::-webkit-scrollbar{display:none;}}"],(function(e){return e.theme.breakpoints.desktopSmall}));t.a=function(e){var t=e.children,n=e.image,a=e.imageText,i=e.stage,o=e.largeImage;return r.a.createElement(l,null,r.a.createElement(s,{largeImage:o,className:"authwrapper__image-wrapper"},r.a.createElement(c.a,{style:{height:"100%",width:"100%"},fluid:n.fluid}),a&&0===i&&r.a.createElement(m,null,r.a.createElement(d,null,a)),a&&1===i&&r.a.createElement(m,null,r.a.createElement(p,null,r.a.createElement("div",null,"Share"),r.a.createElement("div",null,"The"),r.a.createElement("div",null,"Word")))),r.a.createElement(u,{className:"authwrapper__form-container"},r.a.createElement(f,{className:"authwrapper__form-wrapper"},t)))}},W7My:function(e,t,n){"use strict";var a=n("q1tI"),r=n("1qly");t.a=function(e){var t=Object(r.a)(),n=t.fetchData,i=t.response,o=(t.error,t.loading,"https://api.onequince.com/referralEmails/referredCustomers?emailId="+e),c={method:"GET",headers:{"Content-Type":"application/json"}};return{fetchReferrals:Object(a.useCallback)((function(){return n(o,c)}),[o,e]),successfulReferrals:i&&i.successfulReferrals,invitedReferrals:i&&i.invitedReferrals}}},qiuz:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("vOnD"),o=n("ovEV"),c=i.d.div.withConfig({displayName:"ReferralPoints__StyledReferralPoints",componentId:"u6cpa4-0"})([""]),l=i.d.div.withConfig({displayName:"ReferralPoints__Overview",componentId:"u6cpa4-1"})(["display:block;@media (min-width:","px){margin-bottom:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(o.b)(15)),s=i.d.div.withConfig({displayName:"ReferralPoints__OverviewTitle",componentId:"u6cpa4-2"})(["width:280px;font-size:25px;line-height:30px;margin-bottom:11px;@media (min-width:","px){font-size:",";line-height:",";width:",";margin-bottom:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(o.b)(25),Object(o.b)(30),Object(o.b)(280),Object(o.b)(35)),m=i.d.div.withConfig({displayName:"ReferralPoints__RewardOverviewText",componentId:"u6cpa4-3"})(["display:flex;justify-content:space-between;font-size:14px;line-height:25px;&:last-child{margin-bottom:13px;}@media (min-width:","px){font-size:",";line-height:",";&:last-child{margin-bottom:",";}}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(o.b)(14),Object(o.b)(25),Object(o.b)(13)),d=i.d.div.withConfig({displayName:"ReferralPoints__Total",componentId:"u6cpa4-4"})(["display:flex;justify-content:space-between;padding-top:18px;font-size:19px;line-height:25px;border-top:1px solid ",";@media (min-width:","px){font-size:",";line-height:",";padding-top:",";}"],(function(e){return e.theme.colors.greyLight}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(o.b)(19),Object(o.b)(25),Object(o.b)(18)),p=i.d.div.withConfig({displayName:"ReferralPoints__TotalText",componentId:"u6cpa4-5"})(["@media (min-width:","px){margin-right:",";}"],(function(e){return e.theme.breakpoints.desktopSmall}),Object(o.b)(32)),u=i.d.p.withConfig({displayName:"ReferralPoints__NoReferrals",componentId:"u6cpa4-6"})(["color:",";"],(function(e){return e.theme.colors.greyLight}));t.a=function(e){var t=e.title,n=e.referrals,i=e.totalText,o=e.noReferralsMsg,f=Object(a.useState)(null),h=f[0],b=f[1];return Object(a.useEffect)((function(){if(n){var e=n.reduce((function(e,t){return e+t.points}),0);b(e)}}),[n]),r.a.createElement(c,{className:"referral-points"},r.a.createElement(l,null,r.a.createElement(s,null,t),n&&n.map((function(e,t){var n=e.email,a=e.points;return r.a.createElement(m,{key:""+n+t},r.a.createElement("div",null,n),r.a.createElement("div",null,parseInt(a).toLocaleString()))}))),n&&n.length>0?r.a.createElement(d,{className:"referral-points__total"},r.a.createElement(p,null,i),h?parseInt(h).toLocaleString():0):r.a.createElement(u,null,o))}},tM7j:function(e,t,n){"use strict";var a=n("vOnD"),r=n("ovEV"),i=a.d.div.withConfig({displayName:"FormHeader",componentId:"sc-6dl0vh-0"})(["white-space:pre-wrap;h1{text-transform:uppercase;font-size:30px;line-height:30px;margin-bottom:16px;i{font-family:",";font-size:45px;line-height:40px;font-style:normal;}}p{margin-bottom:16px;line-height:25px;font-size:14px;}@media (min-width:","px){h1{font-size:",";line-height:",";margin-bottom:",";i{font-size:",";line-height:",";}}p{margin-bottom:",";line-height:",";font-size:",";}}"],(function(e){return e.theme.fonts.secondary}),(function(e){return e.theme.breakpoints.desktopSmall}),Object(r.b)(30),Object(r.b)(30),Object(r.b)(25),Object(r.b)(45),Object(r.b)(40),Object(r.b)(14),Object(r.b)(25),Object(r.b)(14));t.a=i},zE20:function(e,t,n){"use strict";var a=n("o0o1"),r=n.n(a),i=(n("ls82"),n("HaE+")),o=n("q1tI"),c=n("MUpH"),l=n("VX74");function s(){var e=Object(c.a)(["\n  query ShopifyCustomer($customerAccessToken: String!) {\n    customer(customerAccessToken: $customerAccessToken) {\n      id\n      addresses(first: 250) {\n        edges {\n          node {\n            id\n            address1\n            address2\n            country\n            city\n            province\n            provinceCode\n            zip\n            company\n            name\n            phone\n            firstName\n            lastName\n          }\n        }\n      }\n      defaultAddress {\n        id\n        address1\n        address2\n        country\n        city\n        province\n        provinceCode\n        zip\n        company\n        name\n        phone\n        firstName\n        lastName\n      }\n    }\n  }\n"]);return s=function(){return e},e}var m=Object(l.gql)(s()),d=function(e,t){return e.query({query:m,variables:t})};function p(){var e=Object(c.a)(["\n  query ShopifyCustomer($customerAccessToken: String!) {\n    customer(customerAccessToken: $customerAccessToken) {\n      id\n      addresses(first: 250) {\n        edges {\n          node {\n            id\n            address1\n            address2\n            country\n            city\n            province\n            provinceCode\n            zip\n            company\n            name\n            phone\n            firstName\n            lastName\n          }\n        }\n      }\n      defaultAddress {\n        id\n        address1\n        address2\n        country\n        city\n        province\n        provinceCode\n        zip\n        company\n        name\n        phone\n        firstName\n        lastName\n      }\n    }\n  }\n"]);return p=function(){return e},e}var u=Object(l.gql)(p()),f=function(e,t){return e.query({query:u,variables:t,fetchPolicy:"no-cache"})},h=n("s+5j"),b=n("Eqht"),g=n("6Ox+"),x=Object(g.c)("customerAccessToken"),y=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(g.b)("customerAccessToken"))&&!(Date.parse(n.expiresAt)<new Date)){e.next=8;break}return console.log("fetching accessToken"),e.next=5,Object(b.a)(t);case 5:return null!=(a=e.sent)&&x(a),e.abrupt("return",a);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a=function(){var e=Object(o.useContext)(h.d),t=Object(o.useState)(null),n=t[0],a=t[1],c=Object(o.useState)(!1),l=c[0],s=c[1],m=Object(o.useState)(!1),p=m[0],u=m[1],b=function(){var t=Object(i.a)(r.a.mark((function t(){var n,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,y(e.lastbrand.client);case 3:return n=t.sent,t.next=6,d(e.lastbrand.client,{customerAccessToken:n.accessToken});case 6:i=t.sent,o=i.data,a(o.customer),u(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(r.a.mark((function t(){var n,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e.lastbrand.client);case 2:return n=t.sent,t.next=5,f(e.lastbrand.client,{customerAccessToken:n.accessToken});case 5:i=t.sent,o=i.data,a(o.customer);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){function t(){return(t=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e.lastbrand.client);case 2:t.sent&&!l?b():l||a(null);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[l]),{customer:n,refreshCustomer:function(){g(),s(!0)},loading:p}}}}]);
//# sourceMappingURL=component---src-templates-auth-refer-and-earn-js-bbfd24f81f5593a09b86.js.map